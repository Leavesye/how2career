(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20d412fc"],{"1b62":function(e,t,r){"use strict";t["a"]={methods:{uploadBefore:function(e){if(console.log(e,2222),!this.checkFile(e))return!1},uploadSuccess:function(e,t,r){e.result&&this.afterUpload(e.msg)}}}},"3ca3":function(e,t,r){"use strict";var a=r("6547").charAt,n=r("69f3"),o=r("7dd0"),s="String Iterator",i=n.set,c=n.getterFor(s);o(String,"String",(function(e){i(this,{type:s,string:String(e),index:0})}),(function(){var e,t=c(this),r=t.string,n=t.index;return n>=r.length?{value:void 0,done:!0}:(e=a(r,n),t.index+=e.length,{value:e,done:!1})}))},5530:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var a=r("ade3");function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},"5a2c":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("h1",{staticClass:"title"},[e._v("基本信息")]),r("section",{staticClass:"form-box",staticStyle:{"margin-top":"30px"}},[r("el-card",{staticClass:"form-card"},[r("div",{staticClass:"flex-vc form-name"},[r("label",{attrs:{for:""}},[e._v("手机号/邮箱地址")]),r("p",[e._v(e._s(e.user.mobile))])]),e.isReg?e._e():r("div",{staticClass:"flex-vc form-name"},[r("label",{attrs:{for:""}},[e._v("密码")]),r("p",{staticStyle:{"margin-right":"30px"}},[e._v("**********")]),r("el-button",{attrs:{size:"small"},on:{click:e.handleClickChangePwd}},[e._v("修改密码")])],1),r("quick-form",{ref:"baseInfo",attrs:{model:e.baseInfo,labelWidth:"140px"}})],1)],1),r("h1",{staticClass:"title bottom"},[e._v("实名认证（未认证）")]),r("section",{staticClass:"form-box"},[r("el-card",{staticClass:"form-card"},[e.isReg?e._e():r("div",{staticClass:"flex form-name"},[r("label",{attrs:{for:""}},[r("span",{staticStyle:{color:"#F56C6C"}},[e._v("*")]),e._v("姓名")]),r("p",[e._v("超级玛丽")])]),r("quick-form",{ref:"realVerify",attrs:{model:e.realVerify,labelWidth:"140px"}}),e.isReg?e._e():r("div",{staticClass:"flex-vc form-name"},[r("label",{attrs:{for:""}}),r("el-button",{attrs:{plain:"",type:"primary",size:"small"},on:{click:e.handleVerify}},[e._v("重新认证")])],1)],1)],1),r("h1",{staticClass:"title bottom"},[e._v("联系方式")]),r("section",{staticClass:"form-box"},[r("el-card",{staticClass:"form-card"},[r("quick-form",{ref:"contact",attrs:{model:e.contact,labelWidth:"140px"}})],1)],1),r("div",{staticClass:"flex-he",staticStyle:{margin:"60px 60px 70px 0"}},[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleSave}},[e._v("确定")])],1)])},n=[],o=(r("caad"),r("d81d"),r("b0c0"),r("b64b"),r("d3b7"),r("2532"),r("3ca3"),r("ddb0"),r("96cf"),r("1da1")),s=r("5530"),i=r("2f62"),c=r("4d06"),l=r("2b0e"),u=r("c1df"),d=r.n(u),f=l["default"].prototype.$rules,p={passWord:{value:"",label:"密码",props:{type:"password"},rules:[f.required(),f.length(6,12)]},name:{value:"",label:"姓名",rules:[f.required(),f.maxLength(20),f.account()]},nickName:{value:"",label:"昵称",rules:[f.required(),f.maxLength(10)]},gender:{label:"性别",value:"",type:"radio",props:{label:"label",value:"value"},options:[{label:"男",value:"m"},{label:"女",value:"f"}],rules:[f.required()]},birthday:{label:"出生年月",value:d()().subtract(18,"year").format("YYYY-MM-DD"),type:"date",rules:[f.required()],props:{style:{width:"200px"},"picker-options":{disabledDate:function(e){return e.getTime()>d()().subtract(18,"year").valueOf()}}}},avatarImage:{label:"设置头像",rules:[f.required()],type:"upload",value:"",props:{action:"http://www.leavesyesong.xyz/api/user/platform/consultant/upload",accept:".jpg,.png,.gif",name:"UploadFiles",limit:1,disabled:!1,"show-file-list":!1,"auto-upload":!0,"before-upload":null,"on-success":null},render:null}},b=l["default"].prototype.$rules,m={phone:{value:"",label:"手机号码",rules:[b.required(),b.mobile()]},idCard:{value:"",label:"身份证号",rules:[b.required(),b.idCard()]},bankCard:{value:"",label:"银行卡信息",rules:[b.required(),b.length(13,19)]}},g=l["default"].prototype.$rules,h={phone:{value:"",label:"手机号码",rules:[g.required(),g.mobile()]},wechat:{value:"",label:"微信号",rules:[g.maxLength(50)]},email:{value:"",label:"私人邮箱",rules:[g.maxLength(100),g.eMail()]},selfIntroduction:{value:"",label:"自我介绍",props:{type:"textarea",rows:"3"},events:{},rules:[g.maxLength(300)]},detailedIntroduction:{label:"奖励和荣誉",value:"",props:{type:"textarea",rows:"6"},events:{},rules:[g.maxLength(300)]}},v={baseInfo:p,realVerify:m,contact:h},y=r("1b62");function O(e){return{userName:e.userName,passWord:e.passWord,basic:{name:e.name,gender:e.gender,birthday:e.birthday,phone:e.phone,wechat:e.wechat,email:e.email,detailedIntroduction:e.detailedIntroduction},realVerify:{phone:e.phone,idCard:e.idCard,bankCard:e.bankCard},publicInfo:{nickName:e.nickName,avatarImage:e.avatarImage,selfIntroduction:e.selfIntroduction}}}var x=r("c24f"),j=r("a2c8"),w=r.n(j),C={name:"consultant-baseinfo",components:{QuickForm:c["a"]},mixins:[y["a"]],data:function(){return Object(s["a"])({isReg:!1},v)},computed:Object(s["a"])({},Object(i["b"])(["user"])),methods:{handleClickChangePwd:function(){},handleVerify:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$refs.baseInfo.getFormData(),a=e.$refs.realVerify.getFormData(),n=e.loading(),t.next=5,Object(x["b"])(Object(s["a"])({name:r.name},a)).catch((function(e){return n.close()}));case 5:t.sent,n.close();case 7:case"end":return t.stop()}}),t)})))()},handleSave:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o,i,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=Object.keys(v),a=!0,t.next=4,Promise.all(r.map((function(t){return e.$refs[t].validate()}))).catch((function(e){console.log(e,"error"),a=!1}));case 4:if(n=t.sent,console.log(n,333),!a){t.next=17;break}return o=e.loading(),i=Object(s["a"])(Object(s["a"])(Object(s["a"])({userName:e.user.mobile},e.$refs.baseInfo.getFormData()),e.$refs.realVerify.getFormData()),e.$refs.contact.getFormData()),console.log(i,"formdata"),c=O(i),console.log(c,"参数"),t.next=14,Object(x["c"])(c).catch((function(e){return o.close()}));case 14:l=t.sent,l.result&&e.alert("注册成功"),o.close();case 17:case"end":return t.stop()}}),t)})))()},renderUpload:function(e){var t="";return this.baseInfo.avatarImage.value&&(t=Object({NODE_ENV:"production",VUE_APP_BASE_API:"http://www.leavesyesong.xyz/api",BASE_URL:"/"}).VUE_APP_HOST_NAME+this.baseInfo.avatarImage.value),console.log(t),e("el-Image",{style:"border-radius: 50%;width: 90px; height: 90px;overflow: hidden",attrs:{src:t||w.a}})},checkFile:function(e){return e.size>2097152?(this.alert("上传图片不能超过2M"),!1):!!["image/png","image/jpeg","image/gif"].includes(e.type)||(this.alert("请上传PNG、JPG、GIF类型文件"),!1)},afterUpload:function(e){this.baseInfo.avatarImage.value=e}},mounted:function(){var e=this;this.isReg=this.$route.path.includes("/register/consultant"),this.isReg&&(this.baseInfo.passWord.hide=!1);var t=this.baseInfo.avatarImage;t.props["before-upload"]=function(t){return e.uploadBefore(t)},t.props["on-success"]=function(t,r){return e.uploadSuccess(t,r)},t.render=this.renderUpload}},k=C,I=(r("ecb0"),r("2877")),_=Object(I["a"])(k,a,n,!1,null,"744c443d",null);t["default"]=_.exports},"5f87":function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return i}));var a=r("a78e"),n=r.n(a),o="token";function s(){return n.a.get(o)}function i(e){return n.a.set(o,e)}},a2c8:function(e,t,r){e.exports=r.p+"static/img/avatar-upload.80d54d4f.png"},b0c0:function(e,t,r){var a=r("83ab"),n=r("9bf2").f,o=Function.prototype,s=o.toString,i=/^\s*function ([^ (]*)/,c="name";a&&!(c in o)&&n(o,c,{configurable:!0,get:function(){try{return s.call(this).match(i)[1]}catch(e){return""}}})},b64b:function(e,t,r){var a=r("23e7"),n=r("7b0b"),o=r("df75"),s=r("d039"),i=s((function(){o(1)}));a({target:"Object",stat:!0,forced:i},{keys:function(e){return o(n(e))}})},b775:function(e,t,r){"use strict";r("d3b7");var a=r("bc3a"),n=r.n(a),o=r("5c96"),s=r("4360"),i=r("5f87"),c=n.a.create({baseURL:"http://www.leavesyesong.xyz/api",timeout:6e4});c.interceptors.request.use((function(e){e.headers["Content-Type"]="application/json";var t=Object(i["a"])();return t&&(e.headers["Authorization"]=t),e}),(function(e){return console.log(e),Promise.reject(e)})),c.interceptors.response.use((function(e){var t=e.data;return t.result?t:(Object(o["Message"])({message:t.msg||"Error",type:"error",duration:5e3}),50008!==t.code&&50012!==t.code&&50014!==t.code||o["MessageBox"].confirm("You have been logged out, you can cancel to stay on this page, or log in again","Confirm logout",{confirmButtonText:"Re-Login",cancelButtonText:"Cancel",type:"warning"}).then((function(){s["a"].dispatch("user/resetToken").then((function(){location.reload()}))})),Promise.reject(new Error(t.msg||"Error")))}),(function(e){return console.log("err"+e),Object(o["Message"])({message:e.message,type:"error",duration:5e3}),Promise.reject(e)})),t["a"]=c},c24f:function(e,t,r){"use strict";r.d(t,"g",(function(){return n})),r.d(t,"a",(function(){return o})),r.d(t,"f",(function(){return s})),r.d(t,"d",(function(){return i})),r.d(t,"c",(function(){return c})),r.d(t,"b",(function(){return l})),r.d(t,"e",(function(){return u}));var a=r("b775");function n(e){return Object(a["a"])({url:"/user/platform/mobile/vCode",method:"post",data:e})}function o(e){return Object(a["a"])({url:"/user/platform/user/check",method:"post",data:e})}function s(e){return Object(a["a"])({url:"/user/platform/login",method:"post",data:e})}function i(e){return Object(a["a"])({url:"/user/platform/consumer/user",method:"post",data:e})}function c(e){return Object(a["a"])({url:"/user/platform/consultant/user",method:"post",data:e})}function l(e){return Object(a["a"])({url:"/order/platform/consultant/realVerify",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/user/platform/consultant/user",method:"get",params:e})}},d607:function(e,t,r){},d81d:function(e,t,r){"use strict";var a=r("23e7"),n=r("b727").map,o=r("1dde"),s=r("ae40"),i=o("map"),c=s("map");a({target:"Array",proto:!0,forced:!i||!c},{map:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},ddb0:function(e,t,r){var a=r("da84"),n=r("fdbc"),o=r("e260"),s=r("9112"),i=r("b622"),c=i("iterator"),l=i("toStringTag"),u=o.values;for(var d in n){var f=a[d],p=f&&f.prototype;if(p){if(p[c]!==u)try{s(p,c,u)}catch(m){p[c]=u}if(p[l]||s(p,l,d),n[d])for(var b in o)if(p[b]!==o[b])try{s(p,b,o[b])}catch(m){p[b]=o[b]}}}},ecb0:function(e,t,r){"use strict";var a=r("d607"),n=r.n(a);n.a}}]);