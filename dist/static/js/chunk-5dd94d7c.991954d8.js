(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5dd94d7c"],{"10f4":function(e,t,n){},"488d":function(e,t,n){"use strict";var r=n("10f4"),o=n.n(r);o.a},"5f87":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c}));var r=n("a78e"),o=n.n(r),a="token";function s(){return o.a.get(a)}function c(e){return o.a.set(a,e)}},"7abe":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("el-button",{attrs:{type:"info"},on:{click:e.login}},[e._v("登录")]),n("el-button",{attrs:{type:"info"},on:{click:e.reg}},[e._v("注册")]),n("el-button",{attrs:{type:"info"},on:{click:e.create}},[e._v("创建订单")]),n("login",{attrs:{isShow:!0}})],1)},o=[],a=(n("96cf"),n("1da1")),s=n("c24f"),c=n("f8b7"),i=n("5f87"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{"show-close":!1,visible:e.isShow,width:"400px",center:""},on:{"update:visible":function(t){e.isShow=t}}},[n("section",{staticClass:"modal-main"},[n("el-image",{staticClass:"logo",attrs:{src:e.logo}}),n("ul",{staticClass:"flex tabs"},[e._l(e.tabs,(function(t,r){return n("li",{key:r,staticClass:"tab",style:{color:e.curTab==r?t.color:""},on:{click:function(t){return e.handleTabClick(r)}}},[e._v(" "+e._s(t.name)+" ")])})),n("div",{staticClass:"tab-slide",style:{left:e.tabs[e.curTab].left,backgroundColor:e.tabs[e.curTab].color}})],2),n("el-form",{ref:"form",attrs:{rules:e.rules,model:e.info,"label-width":"0"}},[n("el-form-item",{attrs:{label:"",prop:"userName"}},[n("el-input",{staticClass:"phone",attrs:{maxlength:11,placeholder:"请输入手机号"},model:{value:e.info.userName,callback:function(t){e.$set(e.info,"userName",t)},expression:"info.userName"}},[n("template",{slot:"prepend"},[e._v("+86")])],2)],1),2==e.pageType?n("el-form-item",{attrs:{label:"",prop:"passWord"}},[n("el-input",{staticClass:"phone",attrs:{maxlength:11,placeholder:"请输入密码"},model:{value:e.info.passWord,callback:function(t){e.$set(e.info,"passWord",t)},expression:"info.passWord"}})],1):e._e(),1==e.pageType?n("el-form-item",{attrs:{label:"",prop:"vCode"}},[n("div",{staticClass:"flex-hb"},[n("el-input",{staticClass:"check-code",attrs:{maxlength:6,placeholder:"请输入验证码"},model:{value:e.info.vCode,callback:function(t){e.$set(e.info,"vCode",t)},expression:"info.vCode"}}),n("el-button",{staticClass:"send-code",attrs:{plain:""},on:{click:e.handleSendCode}},[e._v(e._s(e.seconds>0?e.seconds+"s":"获取验证码"))])],1)]):e._e()],1),n("div",{staticClass:"login-bottom"},[n("el-button",{staticClass:"reg-btn",attrs:{type:0==e.curTab?"success":"primary"},on:{click:e.handleReg}},[e._v(e._s(1==e.pageType?"注册":"登录"))]),1==e.pageType?n("p",{staticClass:"tips"},[e._v("未注册手机验证后自动登录，注册即同意注册协议")]):e._e(),n("el-link",{staticClass:"to-login",attrs:{type:0==e.curTab?"success":"primary"},on:{click:e.handleLink}},[e._v(e._s(1==e.pageType?"登录已有账号":"注册"))])],1)],1)])},l=[],d={name:"login-modal",props:["isShow"],data:function(){var e=this.$rules;return{pageType:1,seconds:0,curTab:0,tabs:[{name:"注册咨询者",color:"#36AE82",left:0},{name:"注册咨询师",color:"#15479E",left:"130px"}],info:{userName:"",passWord:"",vCode:""},rules:{userName:[e.required(),e.mobile()],vCode:[e.required()]}}},computed:{logo:function(){return n("cf05")}},methods:{handleLink:function(){1==this.pageType?(this.tabs=[{name:"登录咨询者",color:"#36AE82",left:0},{name:"登录咨询师",color:"#15479E",left:"130px"}],this.pageType=2):this.$router.push("/register/consultant")},handleTabClick:function(e){this.curTab=e,this.$refs.form.resetFields()},handleSendCode:function(){var e=this;if(this.seconds>0)return!1;this.$refs.form.validateField("userName",(function(t){t||Object(s["e"])({userName:e.info.userName}).then((function(t){console.log(t),e.seconds=60;var n=setInterval((function(){0!=e.seconds?e.seconds--:clearInterval(n)}),1e3)}))}))},checkUserFn:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["a"])(e.info);case 2:n=t.sent,n.result&&e.$router.push("/register");case 4:case"end":return t.stop()}}),t)})))()},handleReg:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.form.validate((function(t){t?e.checkUserFn():console.log("error submit!!")}));case 1:case"end":return t.stop()}}),t)})))()}},mounted:function(){}},f=d,p=(n("488d"),n("2877")),m=Object(p["a"])(f,u,l,!1,null,"5826a17e",null),h=m.exports,b={name:"home",components:{Login:h},data:function(){return{}},methods:{login:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["d"])({userName:"18602113265",passWord:"123"});case 2:n=t.sent,n.result&&(Object(i["b"])(n.msg.token),e.$router.push("/consultant"));case 4:case"end":return t.stop()}}),t)})))()},reg:function(){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["b"])({userName:"18566070441",passWord:"111111",basic:{firstName:"ye",lastName:"song",gender:"f",birthday:"1995-10-02",phone:"18566070441",wechat:"fdfgh",email:"43774888@qq.com",detailedIntroduction:"详细介绍"},realVerify:{phone:"手机号码",idCard:"身份证",bankCard:"银行卡"},publicInfo:{nickName:"leaves",level:1,avatarImage:"头像url",selfIntroduction:"100字简介"}});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))()},create:function(){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["a"])({consultant:{_id:"5f532bdb15d031b7520a493d",name:"姓名",avatar:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg",readme:"100字简介",education:{school:"毕业学校",discipline:"专业",degree:"学位",graduationTime:"毕业时间"},work:{industry:"行业",company:"公司",position:"职位",workingYears:"工作年限",duty:"工作内容",skills:"工作技能"}},startTime:"确认的开始时间",consumerTime:[1601880873,1601880874,1601880875]});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))()}},mounted:function(){}},g=b,v=Object(p["a"])(g,r,o,!1,null,"36546a39",null);t["default"]=v.exports},b775:function(e,t,n){"use strict";n("d3b7");var r=n("bc3a"),o=n.n(r),a=n("5c96"),s=n("4360"),c=n("5f87"),i=o.a.create({baseURL:"http://www.leavesyesong.xyz/api",timeout:6e4});i.interceptors.request.use((function(e){e.headers["Content-Type"]="application/json";var t=Object(c["a"])();return t&&(e.headers["Authorization"]=t),e}),(function(e){return console.log(e),Promise.reject(e)})),i.interceptors.response.use((function(e){var t=e.data;return t.result?t:(Object(a["Message"])({message:t.msg||"Error",type:"error",duration:5e3}),50008!==t.code&&50012!==t.code&&50014!==t.code||a["MessageBox"].confirm("You have been logged out, you can cancel to stay on this page, or log in again","Confirm logout",{confirmButtonText:"Re-Login",cancelButtonText:"Cancel",type:"warning"}).then((function(){s["a"].dispatch("user/resetToken").then((function(){location.reload()}))})),Promise.reject(new Error(t.msg||"Error")))}),(function(e){return console.log("err"+e),Object(a["Message"])({message:e.message,type:"error",duration:5e3}),Promise.reject(e)})),t["a"]=i},c24f:function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return i}));var r=n("b775");function o(e){return Object(r["a"])({url:"/user/platform/mobile/vCode",method:"post",data:e})}function a(e){return Object(r["a"])({url:"/user/platform/user/check",method:"post",data:e})}function s(e){return Object(r["a"])({url:"/user/platform/login",method:"post",data:e})}function c(e){return Object(r["a"])({url:"/user/platform/consultant/user",method:"post",data:e})}function i(e){return Object(r["a"])({url:"/user/platform/consultant/user",method:"get",params:e})}},f8b7:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}));var r=n("b775");function o(e){return Object(r["a"])({url:"/order/platform/orders",method:"post",data:e})}function a(e){return Object(r["a"])({url:"/order/platform/consultant/orders/list/query",method:"get",params:e})}function s(e){return Object(r["a"])({url:"/order/platform/consultant/orders/list/count",method:"get",params:e})}}}]);