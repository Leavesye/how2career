(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d99ac5c"],{"1b62":function(e,t,r){"use strict";t["a"]={methods:{uploadBefore:function(e){if(console.log(e,2222),!this.checkFile(e))return!1},uploadSuccess:function(e,t,r){e.result&&this.afterUpload(e.msg)}}}},"1cb8":function(e,t,r){"use strict";var a=r("b97e"),n=r.n(a);n.a},"3ca3":function(e,t,r){"use strict";var a=r("6547").charAt,n=r("69f3"),o=r("7dd0"),u="String Iterator",s=n.set,l=n.getterFor(u);o(String,"String",(function(e){s(this,{type:u,string:String(e),index:0})}),(function(){var e,t=l(this),r=t.string,n=t.index;return n>=r.length?{value:void 0,done:!0}:(e=a(r,n),t.index+=e.length,{value:e,done:!1})}))},5530:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var a=r("ade3");function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},"5f87":function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return s}));var a=r("a78e"),n=r.n(a),o="token";function u(){return n.a.get(o)}function s(e){return n.a.set(o,e)}},a2c8:function(e,t,r){e.exports=r.p+"static/img/avatar-upload.80d54d4f.png"},b0c0:function(e,t,r){var a=r("83ab"),n=r("9bf2").f,o=Function.prototype,u=o.toString,s=/^\s*function ([^ (]*)/,l="name";a&&!(l in o)&&n(o,l,{configurable:!0,get:function(){try{return u.call(this).match(s)[1]}catch(e){return""}}})},b64b:function(e,t,r){var a=r("23e7"),n=r("7b0b"),o=r("df75"),u=r("d039"),s=u((function(){o(1)}));a({target:"Object",stat:!0,forced:s},{keys:function(e){return o(n(e))}})},b775:function(e,t,r){"use strict";r("d3b7");var a=r("bc3a"),n=r.n(a),o=r("5c96"),u=r("4360"),s=r("5f87"),l=n.a.create({baseURL:"http://www.leavesyesong.xyz/api",timeout:6e4});l.interceptors.request.use((function(e){e.headers["Content-Type"]="application/json";var t=Object(s["a"])();return t&&(e.headers["Authorization"]=t),e}),(function(e){return console.log(e),Promise.reject(e)})),l.interceptors.response.use((function(e){var t=e.data;return t.result?t:(Object(o["Message"])({message:t.msg||"Error",type:"error",duration:5e3}),50008!==t.code&&50012!==t.code&&50014!==t.code||o["MessageBox"].confirm("You have been logged out, you can cancel to stay on this page, or log in again","Confirm logout",{confirmButtonText:"Re-Login",cancelButtonText:"Cancel",type:"warning"}).then((function(){u["a"].dispatch("user/resetToken").then((function(){location.reload()}))})),Promise.reject(new Error(t.msg||"Error")))}),(function(e){return console.log("err"+e),Object(o["Message"])({message:e.message,type:"error",duration:5e3}),Promise.reject(e)})),t["a"]=l},b97e:function(e,t,r){},c24f:function(e,t,r){"use strict";r.d(t,"g",(function(){return n})),r.d(t,"a",(function(){return o})),r.d(t,"f",(function(){return u})),r.d(t,"d",(function(){return s})),r.d(t,"c",(function(){return l})),r.d(t,"b",(function(){return i})),r.d(t,"e",(function(){return c}));var a=r("b775");function n(e){return Object(a["a"])({url:"/user/platform/mobile/vCode",method:"post",data:e})}function o(e){return Object(a["a"])({url:"/user/platform/user/check",method:"post",data:e})}function u(e){return Object(a["a"])({url:"/user/platform/login",method:"post",data:e})}function s(e){return Object(a["a"])({url:"/user/platform/consumer/user",method:"post",data:e})}function l(e){return Object(a["a"])({url:"/user/platform/consultant/user",method:"post",data:e})}function i(e){return Object(a["a"])({url:"/order/platform/consultant/realVerify",method:"post",data:e})}function c(e){return Object(a["a"])({url:"/user/platform/consultant/user",method:"get",params:e})}},c2e5:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("h1",{staticClass:"title"},[e._v("基本信息")]),r("section",{staticClass:"form-box",staticStyle:{"margin-top":"30px"}},[r("el-card",{staticClass:"form-card"},[r("quick-form",{ref:"baseInfo",attrs:{model:e.baseInfo,labelWidth:e.labelWidth}})],1)],1),r("h1",{staticClass:"title bottom"},[e._v("最高学历")]),r("section",{staticClass:"form-box"},[r("el-card",{staticClass:"form-card"},[r("quick-form",{ref:"education",attrs:{model:e.education,labelWidth:e.labelWidth}})],1)],1),r("div",{staticClass:"flex-he",staticStyle:{margin:"60px 60px 70px 0"}},[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleSave}},[e._v("确认修改")])],1)])},n=[],o=(r("d81d"),r("b64b"),r("d3b7"),r("3ca3"),r("ddb0"),r("96cf"),r("1da1")),u=r("5530"),s=r("4d06"),l=r("2b0e"),i=l["default"].prototype.$rules,c={userName:{value:"",label:"手机号码/邮箱地址",rules:[i.required()]},passWord:{value:"",label:"密码",rules:[i.required()]},name:{value:"",label:"姓名",rules:[i.required()]},nickName:{value:"",label:"昵称",rules:[i.required()]},gender:{label:"性别",value:"",type:"radio",props:{label:"label",value:"value"},options:[{label:"男",value:"m"},{label:"女",value:"f"}],rules:[i.required()]},birthday:{label:"出生年月",value:"",type:"date",rules:[i.required()],props:{style:{width:"200px"}}},avatarImage:{label:"设置头像",rules:[i.required()],type:"upload",value:"",props:{action:"http://www.leavesyesong.xyz/api/user/platform/consumer/upload",accept:"",name:"UploadFiles",limit:1,disabled:!1,"show-file-list":!1,"auto-upload":!0,"before-upload":null,"on-success":null},render:null}},d=l["default"].prototype.$rules,p={country:{type:"select",value:"",label:"国家",rules:[d.required()],props:{props:{label:"text",value:"value"}},options:[{text:"中国",value:"1"},{text:"美国",value:"2"}]},school:{type:"select",value:"",label:"学校",rules:[d.required()],props:{props:{label:"text",value:"value"}},options:[{text:"北大",value:"1"},{text:"清华",value:"2"}]},discipline:{type:"select",value:"",label:"专业",rules:[d.required()],props:{props:{label:"text",value:"value"}},options:[{text:"计算机",value:"1"},{text:"工商管理",value:"2"}]},GPA:{type:"select",value:"",label:"GPA",props:{props:{label:"text",value:"value"}},options:[{text:"70分",value:"1"},{text:"80分",value:"2"}]},degree:{type:"select",value:"",label:"学位",rules:[d.required()],props:{props:{label:"text",value:"value"}},options:[{text:"学士",value:"1"},{text:"硕士",value:"2"}]},graduationTime:{label:"毕业时间",value:"",type:"date",rules:[d.required()],props:{style:{width:"200px"}}},selfIntroduction:{value:"",label:"自我介绍"},detailedIntroduction:{value:"",label:"详细介绍",props:{type:"textarea",rows:6,placeholder:"请输入详细内容"}}},f={baseInfo:c,education:p},b=r("1b62");r("b0c0");function v(e){return{userName:e.userName,passWord:e.passWord,basic:{birthday:e.birthday,name:e.name,gender:e.gender,nickName:e.nickName,avatarImage:e.avatarImage,selfIntroduction:e.selfIntroduction,detailedIntroduction:e.detailedIntroduction,highestEducation:{country:e.country,school:e.school,discipline:e.discipline,degree:e.degree,graduationTime:e.graduationTime,GPA:e.GPA}},realVerify:{phone:"手机号码",idCard:"身份证"}}}var m=r("c24f"),g=r("a2c8"),h=r.n(g),y={name:"consumer-baseinfo",mixins:[b["a"]],components:{QuickForm:s["a"]},data:function(){return Object(u["a"])({labelWidth:"140px"},f)},methods:{handleSave:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r,a,n,o,s,l,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=Object.keys(f),a=!0,t.next=4,Promise.all(r.map((function(t){return e.$refs[t].validate()}))).catch((function(e){console.log(e,"error"),a=!1}));case 4:if(n=t.sent,console.log(n,333),!a){t.next=17;break}return o=e.loading(),s=Object(u["a"])(Object(u["a"])({},e.$refs.baseInfo.getFormData()),e.$refs.education.getFormData()),console.log(s,"formdata"),l=v(s),console.log(l,"参数"),t.next=14,Object(m["d"])(l).catch((function(e){return o.close()}));case 14:i=t.sent,i.result&&e.alert("注册成功"),o.close();case 17:case"end":return t.stop()}}),t)})))()},renderUpload:function(e){var t="";return this.baseInfo.avatarImage.value&&(t=Object({NODE_ENV:"production",VUE_APP_BASE_API:"http://www.leavesyesong.xyz/api",BASE_URL:"/"}).VUE_APP_HOST_NAME+this.baseInfo.avatarImage.value),e("el-Image",{style:"border-radius: 50%;width: 90px; height: 90px;overflow: hidden",attrs:{src:t||h.a}})},uploadCb:function(e){this.baseInfo.avatarImage.value=e}},mounted:function(){var e=this,t=this.baseInfo.avatarImage;t.props["before-upload"]=function(t){return e.uploadBefore(t)},t.props["on-success"]=function(t,r){return e.uploadSuccess(t,r,e.uploadCb)},t.render=this.renderUpload}},x=y,O=(r("1cb8"),r("2877")),j=Object(O["a"])(x,a,n,!1,null,"010646b6",null);t["default"]=j.exports},d81d:function(e,t,r){"use strict";var a=r("23e7"),n=r("b727").map,o=r("1dde"),u=r("ae40"),s=o("map"),l=u("map");a({target:"Array",proto:!0,forced:!s||!l},{map:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},ddb0:function(e,t,r){var a=r("da84"),n=r("fdbc"),o=r("e260"),u=r("9112"),s=r("b622"),l=s("iterator"),i=s("toStringTag"),c=o.values;for(var d in n){var p=a[d],f=p&&p.prototype;if(f){if(f[l]!==c)try{u(f,l,c)}catch(v){f[l]=c}if(f[i]||u(f,i,d),n[d])for(var b in o)if(f[b]!==o[b])try{u(f,b,o[b])}catch(v){f[b]=o[b]}}}}}]);