(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-182621d3"],{"7abe":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("el-button",{attrs:{type:"info"},on:{click:function(t){return e.action(1)}}},[e._v("登录")]),n("el-button",{attrs:{type:"info"},on:{click:function(t){return e.action(2)}}},[e._v("注册")]),n("el-button",{attrs:{type:"info"},on:{click:e.create}},[e._v("创建订单")]),n("login",{attrs:{isShow:e.isShow,type:e.type},on:{close:e.handleCloseLogin}})],1)},r=[],i=(n("96cf"),n("1da1")),o=n("f8b7"),s=(n("5f87"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{"show-close":!1,"before-close":e.handleClose,visible:e.isShow,width:"400px",center:""},on:{"update:visible":function(t){e.isShow=t}}},[n("section",{staticClass:"modal-main"},[n("el-image",{staticClass:"logo",attrs:{src:e.logo}}),n("ul",{staticClass:"flex tabs"},[e._l(e.tabs,(function(t,a){return n("li",{key:a,staticClass:"tab",style:{color:e.curTab==a?t.color:""},on:{click:function(n){return e.handleTabClick(t,a)}}},[e._v(" "+e._s(t.name)+" ")])})),n("div",{staticClass:"tab-slide",style:{left:e.tabs[e.curTab].left,backgroundColor:e.tabs[e.curTab].color}})],2),n("el-form",{ref:"form",attrs:{rules:e.rules,model:e.info,"label-width":"0"}},[n("el-form-item",{attrs:{label:"",prop:"userName"}},[n("el-input",{staticClass:"phone",attrs:{maxlength:11,placeholder:"请输入手机号"},model:{value:e.info.userName,callback:function(t){e.$set(e.info,"userName",t)},expression:"info.userName"}},[n("template",{slot:"prepend"},[e._v("+86")])],2)],1),1==e.pageType?n("el-form-item",{attrs:{label:"",prop:"passWord"}},[n("el-input",{staticClass:"phone",attrs:{type:"password",maxlength:10,placeholder:"请输入密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegOrLogin(t)}},model:{value:e.info.passWord,callback:function(t){e.$set(e.info,"passWord",t)},expression:"info.passWord"}})],1):e._e(),2==e.pageType?n("el-form-item",{attrs:{label:"",prop:"vCode"}},[n("div",{staticClass:"flex-hb"},[n("el-input",{staticClass:"check-code",attrs:{maxlength:6,placeholder:"请输入验证码"},model:{value:e.info.vCode,callback:function(t){e.$set(e.info,"vCode",t)},expression:"info.vCode"}}),n("el-button",{staticClass:"send-code",attrs:{plain:""},on:{click:e.handleSendCode}},[e._v(e._s(e.seconds>0?e.seconds+"s":"获取验证码"))])],1)]):e._e()],1),n("div",{staticClass:"login-bottom"},[n("el-button",{staticClass:"reg-btn",attrs:{loading:e.isLoading,type:0==e.curTab?"success":"primary"},on:{click:e.handleRegOrLogin}},[e._v(e._s(2==e.pageType?"注册":"登录"))]),2==e.pageType?n("p",{staticClass:"tips"},[e._v("未注册手机验证后自动登录，注册即同意注册协议")]):e._e(),n("el-link",{staticClass:"to-login",attrs:{type:0==e.curTab?"success":"primary"},on:{click:e.handleLink}},[e._v(e._s(2==e.pageType?"登录已有账号":"注册"))])],1)],1)])}),c=[],l=(n("caad"),n("ac1f"),n("2532"),n("5319"),n("5530")),u=n("c24f"),d={1:[{name:"登录咨询者",color:"#36AE82",left:0},{name:"登录咨询师",color:"#15479E",left:"130px"}],2:[{name:"注册咨询者",color:"#36AE82",left:0},{name:"注册咨询师",color:"#15479E",left:"130px"}]},p={name:"login-modal",props:["isShow","type"],data:function(){var e=this.$rules;return this.role="consumer",{isLoading:!1,pageType:1,seconds:0,curTab:0,tabs:d["1"],info:{userName:"18566070441",passWord:"123456",vCode:""},rules:{userName:[e.required(),e.mobile()],passWord:[e.required()],vCode:[e.required()]}}},computed:{logo:function(){return n("cf05")}},watch:{type:function(e,t){console.log(e,t),this.pageType=e,this.tabs=d[this.pageType]}},methods:{handleClose:function(){this.$emit("close")},handleLink:function(){this.pageType=1==this.pageType?2:1,this.tabs=d[this.pageType]},handleTabClick:function(e,t){this.curTab=t,this.role=0==t?"consumer":"consultant",this.$refs.form.resetFields()},handleSendCode:function(){var e=this;if(this.seconds>0)return!1;this.$refs.form.validateField("userName",(function(t){t||Object(u["j"])({userName:e.info.userName}).then((function(t){console.log(t),e.seconds=60;var n=setInterval((function(){0!=e.seconds?e.seconds--:clearInterval(n)}),1e3)}))}))},checkUserFn:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isLoading){t.next=2;break}return t.abrupt("return",!1);case 2:return e.isLoading=!0,t.next=5,Object(u["a"])(e.info);case 5:n=t.sent,n.result&&(e.$store.dispatch("user/setUser",{role:e.role,userName:e.info.userName}),a="consultant"==e.role?"/register/consultant":"/register/consumer",e.$router.push(a)),e.isLoading=!1;case 8:case"end":return t.stop()}}),t)})))()},checkMobile:function(){var e=this;this.$refs.form.validate((function(t){t&&e.checkUserFn()}))},loginFn:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isLoading){t.next=2;break}return t.abrupt("return",!1);case 2:e.$refs.form.validate((function(t){if(t){e.isLoading=!0;var n=Object(l["a"])(Object(l["a"])({},e.info),{},{role:e.role});e.$store.dispatch("user/login",n).then((function(t){if(console.log(t,888),e.isLoading=!1,t.result){var n=t.msg.types,a=1==n.length&&!n.includes(e.role);if(a&&"consumer"==e.role)return e.$alert("该账号为咨询师账号,是否直接登录咨询师","登录角色错误",{confirmButtonText:"确定",callback:function(t){e.$store.dispatch("user/setRole","consultant"),"confirm"==t&&e.$router.replace("/consultant/index")}}),!1;if(a&&"consultant"==e.role)return e.$alert("该账号为咨询者账号,是否直接登录咨询者","登录角色错误",{confirmButtonText:"确定",callback:function(t){e.$store.dispatch("user/setRole","consumer"),"confirm"==t&&e.$router.replace("/consumer/index")}}),!1;console.log(3333);var r="consultant"==e.role?"/consultant/index":"/consumer/index";e.$router.replace(r)}e.isLoading=!1})).catch((function(t){return e.isLoading=!1}))}else e.isLoading=!1}));case 3:case"end":return t.stop()}}),t)})))()},handleRegOrLogin:function(){1==this.pageType?this.loginFn():this.checkMobile()}},mounted:function(){}},f=p,m=(n("b4df"),n("2877")),h=Object(m["a"])(f,s,c,!1,null,"7f8a13b2",null),g=h.exports,b={name:"home",components:{Login:g},data:function(){return{isShow:!1,type:1}},methods:{handleCloseLogin:function(){this.isShow=!1},action:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:t.isShow=!0,t.type=e;case 2:case"end":return n.stop()}}),n)})))()},reg:function(){return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return{result:!0,msg:{_id:"5f532bdb15d031b7520a493d",active:!1,available:!0,basic:{birthday:"出生年月",detailedIntroduction:"详细介绍",email:"联系信息-私人邮箱",firstName:"名",gender:"f/m",lastName:"姓",phone:"联系信息-手机号码",wechat:"联系信息-微信号"},cTime:"创建时间",publicInfo:{availableTime:[{period:"day",repeat:!0,time:"2020-10-10 20:00"},{period:"week",repeat:!0,time:"2020-10-10 18:00"}],avatarImage:"头像url",level:1,nickName:"昵称",resume:{education:[{GPA:"GPA成绩",country:"国家",degree:"学位",degreeCertificate:"学位证",discipline:"专业",getRewarded:!0,graduationTime:"毕业时间",organizationTitle:"职位",projectArticle:!0,projectArticleDescription:"项目文章经历描述",rewardDescription:"奖项描述",school:"毕业学校",studentOrganization:!0}],gallupCertified:!0,gallupCertifiedImage:"gallup图片",language:["english","french"],otherCertificates:[{certificateImage:"证书图片",comments:"备注",expireDate:"有效日期",name:"证书名称"}],skills:["java","golang"],socialInsuranceImage:"社保图片",workExperience:[{company:"公司",companySize:"公司规模",department:"部门",duty:"工作内容",entryTime:"2020-10",industry:"行业",level:"级别",onBoard:!0,position:"职位",resignationTime:"2023-01",reward:"奖励和荣誉",teamAchievement:"团队成果",teamManagement:!0,teamMember:10}]},selfIntroduction:"100字简介"},realVerified:!0,realVerify:{bankCard:"银行卡",idCard:"身份证",phone:"手机号码"},resumeVerified:!0,slots:[{_id:"1600191034",active:!0,cost:123,costLeft:123,expireTime:1700191034},{_id:"1600191035",active:!0,cost:123,costLeft:123,expireTime:1700191035},{_id:"1600191036",active:!0,cost:123,costLeft:123,expireTime:1700191036},{_id:"1600191037",active:!0,cost:123,costLeft:123,expireTime:1700191037}],slotsFee:-8667,suspendUntil:0,uTime:1600191034}},e.next=3,consultantReg({userName:"18566070441",passWord:"111111",basic:{firstName:"ye",lastName:"song",gender:"f",birthday:"1995-10-02",phone:"18566070441",wechat:"fdfgh",email:"43774888@qq.com",detailedIntroduction:"详细介绍"},realVerify:{phone:"手机号码",idCard:"身份证",bankCard:"银行卡"},publicInfo:{nickName:"leaves",level:1,avatarImage:"头像url",selfIntroduction:"100字简介"}});case 3:e.sent;case 4:case"end":return e.stop()}}),e)})))()},create:function(){return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["c"])({consultant:{_id:"5f532bdb15d031b7520a493d",name:"姓名",avatar:"https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg",readme:"100字简介",education:{school:"毕业学校",discipline:"专业",degree:"学位",graduationTime:"毕业时间"},work:{industry:"行业",company:"公司",position:"职位",workingYears:"工作年限",duty:"工作内容",skills:"工作技能"}},startTime:"确认的开始时间",consumerTime:[1601880873,1601880874,1601880875]});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))()}},mounted:function(){}},v=b,y=Object(m["a"])(v,a,r,!1,null,"42bec422",null);t["default"]=y.exports},b4df:function(e,t,n){"use strict";var a=n("e176"),r=n.n(a);r.a},e176:function(e,t,n){}}]);