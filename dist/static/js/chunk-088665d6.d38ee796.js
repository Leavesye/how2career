(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-088665d6"],{1427:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",{staticClass:"page-title flex-hbc"},[n("span",[t._v("咨询师详情")]),n("el-button",{attrs:{plain:"",size:"mini",icon:"el-icon-arrow-left"},on:{click:t.goBack}},[t._v("返回")])],1),n("section",{staticClass:"card-box"},[n("div",{staticClass:"flex-hb"},[n("el-card",{staticClass:"left"},[n("avatar",{attrs:{imgUrl:t.info.avatarImage}}),n("p",{staticClass:"name"},[t._v(t._s(t.info.nickName))]),n("div",{staticClass:"flex-hbc rate-box",on:{click:t.showRateDetail}},[n("el-rate",{attrs:{disabled:""},model:{value:t.rate,callback:function(e){t.rate=e},expression:"rate"}}),n("p",[t._v("评价:234")])],1),n("p",{staticClass:"motto"},[t._v(t._s(t.info.selfIntroduction))]),n("div",{staticClass:"flex-hb"},[n("p",{staticClass:"cost-item"},[t._v("咨询费用")]),n("div",{staticClass:"flex-hc"},[n("div",{staticClass:"num"},[t._v(t._s(t.info.price))]),n("div",{staticClass:"unit"},[t._v("RMB")])])])],1),n("el-card",{staticClass:"right"},[n("ul",[n("li",{staticClass:"flex-hbc info-item"},[n("div",[n("h1",[t._v("最高学历")]),n("p",[t._v(t._s(t.info.highEdu))])]),n("el-button",{attrs:{size:"mini",plain:""}},[t._v("更多")])],1),n("li",{staticClass:"info-item flex-hbc"},[n("div",[n("h1",[t._v("工作信息")]),n("p",{staticStyle:{"margin-bottom":"10px"}},[t._v("所属行业: "+t._s(t.info.industry))]),n("p",[t._v("公司名称: "+t._s(t.info.company))])]),n("div",[t._v("职位: "+t._s(t.info.position))]),n("div",[t._v("工作年限: "+t._s(t.info.workingYears)+"年")]),n("el-button",{attrs:{size:"mini",plain:""}},[t._v("更多")])],1),n("li",{staticClass:"info-item"},[n("h1",[t._v("主要工作内容")]),n("p",[t._v(t._s(t.info.duty))])]),n("li",{staticClass:"info-item"},[n("h1",[t._v("工作个人技能")]),n("p",[t._v(t._s(t.info.skills))])])])])],1),n("el-card",{staticClass:"calendar-card"},[n("h1",[t._v("可预约时间表(北京时间)")]),n("calendar",{on:{"create-order":t.handleCreateOrder}})],1)],1),n("rate-list",{attrs:{isShow:t.isShow},on:{close:t.handleClose}})],1)},i=[],r=(n("99af"),n("d81d"),n("d3b7"),n("25f0"),n("96cf"),n("1da1")),o=n("5530"),s=n("77c0"),c=n("a16a"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"评价详情",visible:t.isShow,"before-close":t.handleClose,width:"630px",center:""},on:{"update:visible":function(e){t.isShow=e}}},[n("section",{staticClass:"modal-main"},[n("ul",t._l(t.rateList,(function(e,a){return n("li",{key:a},[n("div",{staticClass:"flex-hbc"},[n("el-rate",{attrs:{disabled:""},model:{value:e.rate,callback:function(n){t.$set(e,"rate",n)},expression:"item.rate"}}),n("p",[t._v("评价时间："+t._s(e.time))])],1),n("p",{staticClass:"rate-content"},[t._v(t._s(e.content))]),n("p",{staticClass:"rate-replay"},[t._v(t._s(e.replay))])])})),0)])])},u=[],d={name:"rate-list",components:{},props:["isShow"],data:function(){return{rateList:[{rate:4,time:"2002-01-20 12:08:20",content:"声音温柔，很有耐心，有问必答超级nice",replay:"咨询师回复：感谢您的肯定，很荣幸，希望继"},{rate:4,time:"2002-01-20 12:08:20",content:"声音温柔，很有耐心，有问必答超级nice",replay:"咨询师回复：感谢您的肯定，很荣幸，希望继"},{rate:4,time:"2002-01-20 12:08:20",content:"声音温柔，很有耐心，有问必答超级nice",replay:"咨询师回复：感谢您的肯定，很荣幸，希望继"},{rate:4,time:"2002-01-20 12:08:20",content:"声音温柔，很有耐心，有问必答超级nice",replay:"咨询师回复：感谢您的肯定，很荣幸，希望继"},{rate:4,time:"2002-01-20 12:08:20",content:"声音温柔，很有耐心，有问必答超级nice",replay:"咨询师回复：感谢您的肯定，很荣幸，希望继"}]}},methods:{handleClose:function(){this.$emit("close")}}},f=d,m=(n("32b37"),n("2877")),p=Object(m["a"])(f,l,u,!1,null,"0b12e5c1",null),h=p.exports,v=n("c24f"),b=n("f8b7"),g=n("c1df"),_=n.n(g),C=n("2f62"),w={name:"consultant-detail",components:{Avatar:s["a"],Calendar:c["a"],RateList:h},data:function(){return{info:{},rate:4,isShow:!1,checked:!1,isConfirm:!1}},computed:Object(o["a"])({},Object(C["b"])(["user"])),created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,a,i,r,o,s,c,l,u,d,f,m,p,h,b,g,C;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.loading(),e.next=3,Object(v["d"])({userId:t.$route.params.id}).catch((function(t){return n.close()}));case 3:a=e.sent,a.result&&a.msg.publicInfo&&(t.publicInfo=a.msg.publicInfo,i=a.msg.publicInfo,r=i.resume.education[0],o=r.school,s=r.discipline,c=r.degree,l=r.graduationTime,u=i.resume.workExperience[0],d=u.industry,f=u.company,m=u.position,p=u.duty,h=i.evaluationPoint>0?i.evaluationPoint/i.evaluationCount:0,b=i.resume.workExperience,g=b[0].resignationTime,g=g?_()(g).valueOf():_()().valueOf(),C=Math.ceil((g-_()(b[b.length-1].entryTime).valueOf())/31536e6),t.info={price:a.msg.price,nickName:i.nickName,avatarImage:i.avatarImage,selfIntroduction:i.selfIntroduction,rateCount:i.evaluationCount,totalRate:i.evaluationPoint,rate:h,highEdu:"".concat(o," ").concat(s," ").concat(c," ").concat(_()(l).format("YYYY年毕业")),industry:d,company:f,position:m,duty:p,workingYears:C,skills:i.resume.skills.toString()}),n.close();case 6:case"end":return e.stop()}}),e)})))()},methods:{handleCreateOrder:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var a,i,r,o,s,c,l,u,d,f,m,p,h,v,g,_,C,w,k,y;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.info.times=t,a=e.info,i=a.nickName,r=a.avatarImage,o=a.selfIntroduction,s=a.industry,c=a.company,l=a.position,u=a.duty,d=a.workingYears,f=a.skills,m=a.totalRate,p=a.rateCount,h=e.publicInfo.resume.education[0],v=h.school,g=h.discipline,_=h.degree,C=h.graduationTime,w={consultant:{_id:e.$route.params.id,name:i,avatar:r,readme:o,education:{school:v,discipline:g,degree:_,graduationTime:C},work:{industry:s,company:c,position:l,workingYears:d,duty:u,skills:f},evaluationCount:p,evaluationPoint:m},consumerTime:t.map((function(t){return t.value}))},console.log(w,"参数"),k=e.loading(),n.next=8,Object(b["c"])(w).catch((function(t){return k.close()}));case 8:y=n.sent,y.result&&(e.alert("订单已生成"),e.$router.push("/consumer/order-confirm/".concat(y.msg))),k.close();case 11:case"end":return n.stop()}}),n)})))()},showRateDetail:function(){this.isShow=!0},handleClose:function(){this.isShow=!1},goBack:function(){this.$router.go(-1)}},mounted:function(){}},k=w,y=(n("94f0"),Object(m["a"])(k,a,i,!1,null,"4a0088e5",null));e["default"]=y.exports},"32b37":function(t,e,n){"use strict";var a=n("9306"),i=n.n(a);i.a},4707:function(t,e,n){},6080:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n("b775");function i(t){return Object(a["a"])({url:"/consultant/platform/consultant/timeAvailable",method:"put",data:t})}},9306:function(t,e,n){},"94f0":function(t,e,n){"use strict";var a=n("4707"),i=n.n(a);i.a},a434:function(t,e,n){"use strict";var a=n("23e7"),i=n("23cb"),r=n("a691"),o=n("50c4"),s=n("7b0b"),c=n("65f0"),l=n("8418"),u=n("1dde"),d=n("ae40"),f=u("splice"),m=d("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,h=Math.min,v=9007199254740991,b="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!f||!m},{splice:function(t,e){var n,a,u,d,f,m,g=s(this),_=o(g.length),C=i(t,_),w=arguments.length;if(0===w?n=a=0:1===w?(n=0,a=_-C):(n=w-2,a=h(p(r(e),0),_-C)),_+n-a>v)throw TypeError(b);for(u=c(g,a),d=0;d<a;d++)f=C+d,f in g&&l(u,d,g[f]);if(u.length=a,n<a){for(d=C;d<_-a;d++)f=d+a,m=d+n,f in g?g[m]=g[f]:delete g[m];for(d=_;d>_-a+n;d--)delete g[d-1]}else if(n>a)for(d=_-a;d>C;d--)f=d+a-1,m=d+n-1,f in g?g[m]=g[f]:delete g[m];for(d=0;d<n;d++)g[d+C]=arguments[d+2];return g.length=_-a+n,u}})},f8b7:function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"e",(function(){return s})),n.d(e,"d",(function(){return c})),n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return u}));var a=n("b775"),i=n("4360"),r=i["a"].state.user.role;function o(t){return Object(a["a"])({url:"/order/platform/orders",method:"post",data:t})}function s(t){return Object(a["a"])({url:"/order/platform/".concat(r,"/orders/list/query"),method:"get",params:t})}function c(t){return Object(a["a"])({url:"/order/platform/".concat(r,"/orders/single/query"),method:"get",params:t})}function l(t){return Object(a["a"])({url:"/order/platform/consumer/orders/complaint",method:"post",data:t})}function u(t){return Object(a["a"])({url:"/order/platform/".concat(r,"/orders/cancel"),method:"put",data:t})}}}]);