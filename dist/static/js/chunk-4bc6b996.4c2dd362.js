(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4bc6b996"],{"04eb":function(t,e,n){"use strict";var a=n("2e6a"),i=n.n(a);i.a},1388:function(t,e,n){},2713:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticStyle:{padding:"30px"}},[n("pannel",{attrs:{pannels:t.pannels,selPannel:t.selPannel},on:{change:t.handlePannelChange}}),t.list.length?n(t.selPannel.component,{tag:"component",attrs:{list:t.list,query:t.query,pagination:t.pagination}}):t._e(),0==t.list.length?n("el-card",{staticClass:"no-order"},[n("p",[t._v("暂无订单数据")])]):t._e(),n("p",{staticClass:"title"},[t._v("更多职业选择")]),n("career-list")],1)},i=[],s=(n("7db0"),n("ade3")),r=(n("96cf"),n("1da1")),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-card",[t._l(t.list,(function(e,a){return n("section",{key:a,staticClass:"order-item"},[n("div",{staticClass:"flex-hb row"},[n("div",{staticClass:"flex"},[n("span",{staticClass:"order-no"},[t._v("订单号:"+t._s(e.orderId))]),n("span",[t._v("创建时间:"+t._s(e.cTime))])]),n("div",[t._v("订单金额:"+t._s(e.price)+" RMB")])]),n("div",{staticClass:"flex-hb row"},[n("div",{staticClass:"flex"},[n("p",{staticClass:"order-times"},[t._v("咨询时间(北京时间):")]),t._l(e.consumerTime,(function(e,a){return n("div",{key:a,staticStyle:{"margin-right":"10px"}},[t._v(t._s(e.text))])}))],2),n("el-link",{attrs:{type:"success"},on:{click:function(n){return t.handleOpenTime(e)}}},[t._v("时间调整")])],1),n("div",{staticClass:"flex-hb"},[n("div",{staticClass:"flex-vc"},[n("small-avatar",{attrs:{imgUrl:e.avatar}}),n("div",[t._v(t._s(e.name))])],1),n("div",{staticClass:"flex-he"},[n("el-button",{attrs:{type:"success",plain:"",size:"small"},on:{click:function(n){return t.handelOpenCancel(e.orderId)}}},[t._v("订单取消")]),n("el-button",{attrs:{type:"success",plain:"",size:"small"},on:{click:function(n){return t.handelPayOrder(e.orderId)}}},[t._v("订单支付")])],1)])])})),t.list.length?n("div",{staticClass:"flex-he",staticStyle:{"margin-top":"20px"}},[n("el-pagination",t._g(t._b({ref:"pagination",attrs:{id:"pagin","page-sizes":t.pagination.pageSizes||[10,20,30,40],total:t.pagination.total,"current-page":t.pagination.pageIndex,"page-size":t.pagination.pageSize,layout:"prev, pager, next",background:"",small:""}},"el-pagination",t.pagination.props,!1),t.pagination.events))],1):t._e(),n("cancel-modal",{attrs:{isShow:t.isShow,orderId:t.orderId},on:{close:t.handleClose}}),n("change-modal",{attrs:{isShow:t.isShowTime,order:t.order},on:{close:t.handleCloseTime}})],2)},l=[],c=n("115f"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"订单取消",visible:t.isShow,"before-close":t.handleClose,width:"430px",center:""},on:{"update:visible":function(e){t.isShow=e}}},[n("section",{staticClass:"modal-main"},[n("p",[t._v("当前订单取消会扣除XXX RMB费用")]),n("p",[t._v("退款金额为XXX RMB")]),n("p",[n("el-link",{attrs:{type:"success"}},[t._v("点击了解更多规则")])],1)]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{loading:t.isLoading,size:"small",type:"success",plain:""},on:{click:t.confirm}},[t._v("确认退款")])],1)])},d=[],p=n("f8b7"),m={props:["isShow","orderId"],data:function(){return{isLoading:!1}},methods:{handleClose:function(){this.$emit("close")},confirm:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.isLoading){e.next=2;break}return e.abrupt("return",!1);case 2:return t.isLoading=!0,e.next=5,Object(p["a"])({orderId:t.orderId}).catch((function(e){return t.isLoading=!1}));case 5:n=e.sent,n.result&&(t.alert("订单取消成功"),t.$emit("close",!0)),t.isLoading=!1;case 8:case"end":return e.stop()}}),e)})))()}}},f=m,h=(n("c680"),n("2877")),g=Object(h["a"])(f,u,d,!1,null,"e1b1cd5c",null),v=g.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"订单详情",visible:t.isShow,"before-close":t.handleClose,width:"700px",center:""},on:{"update:visible":function(e){t.isShow=e}}},[n("section",{staticClass:"modal-main"},[n("div",{staticClass:"flex"},[n("p",{staticClass:"order-no"},[t._v("订单号: "+t._s(t.order.orderId))]),n("div",[t._v("创建时间: "+t._s(t.order.cTime))])]),n("p",{staticClass:"time"},[t._v("咨询备选时间 (北京时间)：")]),n("ul",{staticClass:"flex-hb"},t._l(t.order.consumerTime,(function(e,a){return n("li",{key:a,staticClass:"time-item"},[t._v(" "+t._s(e.text)+" ")])})),0),n("calendar",{attrs:{change:t.isShow},on:{"set-time":t.handleSetTime}},[n("el-button",{staticStyle:{"margin-top":"40px"},attrs:{loading:t.isLoading,size:"small",type:"success"},on:{click:t.handleConfirmTime}},[t._v("确认调整")])],1)],1)])},_=[],C=(n("d81d"),n("a16a")),x=(n("c1df"),{props:["isShow","order"],components:{Calendar:C["a"]},data:function(){return{isLoading:!1,times:[]}},methods:{handleSetTime:function(t){this.times=t},handleClose:function(){this.$emit("close")},handleConfirmTime:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.times.length){e.next=3;break}return t.alert("请选择时间","warning"),e.abrupt("return",!1);case 3:if(!t.isLoading){e.next=5;break}return e.abrupt("return",!1);case 5:return t.isLoading=!0,e.next=8,Object(p["l"])({orderId:t.order.orderId,consumerTime:t.times.map((function(t){return Math.ceil(t.value/1e3)}))}).catch((function(e){return t.isLoading=!1}));case 8:n=e.sent,n.result&&(t.alert("更新时间成功"),t.$emit("close",!0)),t.isLoading=!1;case 11:case"end":return e.stop()}}),e)})))()}}}),w=x,S=(n("7db3"),n("b5f6"),Object(h["a"])(w,b,_,!1,null,"6430bb30",null)),y=S.exports,k=n("b775");function O(t){return Object(k["a"])({url:"/order/platform/orders/payment/alipay/payUrl",method:"get",params:t})}var T,L={name:"waiting-pay",props:["list","pagination","query"],components:{SmallAvatar:c["a"],CancelModal:v,ChangeModal:y},data:function(){return{isShowTime:!1,isShow:!1,orderId:"",order:""}},methods:{handelOpenCancel:function(t){this.isShow=!0,this.orderId=t},handleClose:function(t){this.isShow=!1,t&&this.query()},handleOpenTime:function(t){this.order=t,this.isShowTime=!0},handleCloseTime:function(t){this.isShowTime=!1,t&&this.query()},handelPayOrder:function(t){return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O({orderId:t,amount:1e3,subject:"测试商品",type:"order"});case 2:n=e.sent,console.log(decodeURIComponent(n.msg));case 4:case"end":return e.stop()}}),e)})))()}}},R=L,I=(n("7545"),Object(h["a"])(R,o,l,!1,null,"baf506c2",null)),z=I.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.list,(function(e,a){return n("el-card",{key:a,staticClass:"order-item"},[n("ul",{staticClass:"list-item flex-hb"},[n("li",[n("p",{staticStyle:{"margin-bottom":"10px"}},[t._v("订单号："+t._s(e.orderId))]),n("div",{staticClass:"flex-vc"},[n("small-avatar",{attrs:{imgUrl:e.avatar}}),n("div",[t._v(t._s(e.name))])],1)]),n("li",[n("p",{staticStyle:{"margin-bottom":"30px"}},[t._v("创建时间："+t._s(e.cTime))])]),n("li",[n("div",{staticClass:"order-amount"},[t._v("订单金额："+t._s(e.price)+"RMB")]),n("div",{staticClass:"flex-he"},[n("el-link",{attrs:{type:"success",underline:!1}},[t._v(t._s("2"==e.status?"待咨询师确认":"待咨询者确认"))])],1)])]),n("h-title",[t._v("待确认时间(北京时间)")]),n("ul",{staticClass:"flex confirm-time"},[n("li",["3"==e.status?t._l(e.consultantTime,(function(e,a){return n("el-radio",{key:a,attrs:{label:a},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v(t._s(e.text))])})):t._l(e.consumerTime,(function(e,a){return n("span",{key:a,staticStyle:{"margin-right":"10px"}},[t._v(t._s(e.text))])}))],2)]),"3"==e.status?n("div",{staticClass:"flex-he btns"},[n("el-button",{attrs:{loading:t.isLoading,size:"small",type:"success",plain:""},on:{click:function(n){return t.handleOpenChange(e)}}},[t._v("更换咨询师")]),n("el-button",{attrs:{loading:t.isLoading,size:"small",type:"success",plain:""},on:{click:function(n){return t.handleConfirmTime(e)}}},[t._v("接受时间调整")])],1):t._e()],1)})),t.list.length?n("div",{staticClass:"flex-he",staticStyle:{"margin-top":"20px"}},[n("el-pagination",t._g(t._b({ref:"pagination",attrs:{id:"pagin","page-sizes":t.pagination.pageSizes||[10,20,30,40],total:t.pagination.total,"current-page":t.pagination.pageIndex,"page-size":t.pagination.pageSize,layout:"prev, pager, next",background:"",small:""}},"el-pagination",t.pagination.props,!1),t.pagination.events))],1):t._e(),n("change-consultant",{attrs:{isShow:t.isShow,order:t.order},on:{close:t.handleClose}})],2)},M=[],q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"订单调整",visible:t.isShow,"before-close":t.handleClose,width:"430px",center:""},on:{"update:visible":function(e){t.isShow=e}}},[n("section",{staticClass:"modal-main"},[t.isRefuse?n("p",{},[t._v("你可以取消订单退还全款")]):n("div",{},[n("p",[t._v("很遗憾你们时间不合适")]),n("p",[t._v("你可以选择更换同类型其他咨询师")])])]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t.isRefuse?n("el-button",{attrs:{loading:t.isLoading,size:"small"},on:{click:t.handleCancel}},[t._v("订单取消")]):n("el-button",{attrs:{size:"small"},on:{click:t.handleRefuseChange}},[t._v("拒绝更换")]),n("el-button",{attrs:{loading:t.isLoading,size:"small",type:"success"},on:{click:t.handleChange}},[t._v("更换咨询师")])],1)])},E=[],$={props:["isShow","order"],data:function(){return{isLoading:!1,isRefuse:!1}},watch:{isShow:function(t,e){t||(this.isRefuse=!1)}},methods:{handleClose:function(){this.$emit("close")},handleRefuseChange:function(){this.isRefuse=!0},handleCancel:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.isLoading){e.next=2;break}return e.abrupt("return",!1);case 2:return t.isLoading=!0,e.next=5,Object(p["a"])({orderId:t.order.orderId}).catch((function(e){return t.isLoading=!1}));case 5:n=e.sent,n.result&&(t.alert("订单取消成功"),t.$emit("close",!0)),t.isLoading=!1;case 8:case"end":return e.stop()}}),e)})))()},handleChange:function(){this.$router.push("/consumer/search?orderId=".concat(this.order.orderId))}}},Y=$,P=(n("4e10"),Object(h["a"])(Y,q,E,!1,null,"92661f1e",null)),H=P.exports,A={props:["list","pagination","query"],data:function(){return{radio:-1,isLoading:!1,isShow:!1,order:{}}},components:{SmallAvatar:c["a"],ChangeConsultant:H},methods:{handleClose:function(t){this.isShow=!1,t&&this.query()},handleOpenChange:function(t){this.isShow=!0,this.order=t},handleConfirmTime:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!(e.radio<0)){n.next=3;break}return e.alert("请选择一个咨询时间","warning"),n.abrupt("return",!1);case 3:if(!e.isLoading){n.next=5;break}return n.abrupt("return",!1);case 5:return e.isLoading=!0,n.next=8,Object(p["k"])({orderId:t.orderId,startTime:t.consultantTime[e.radio].value}).catch((function(t){return e.isLoading=!1}));case 8:a=n.sent,a.result&&(e.alert("更新服务时间成功"),e.query()),e.isLoading=!1;case 11:case"end":return n.stop()}}),n)})))()}}},D=A,B=(n("04eb"),n("d38b"),Object(h["a"])(D,j,M,!1,null,"c77a82a6",null)),X=B.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.orderList,(function(e,a){return n("el-card",{key:a,staticClass:"order-item"},[n("ul",{staticClass:"list-item flex-hb"},[n("li",[n("p",{staticStyle:{"margin-bottom":"10px"}},[t._v("订单号："+t._s(e.orderId))]),n("div",{staticClass:"flex-vc"},[n("small-avatar",{attrs:{imgUrl:e.avatar}}),n("div",[t._v(t._s(e.name))])],1)]),n("li",[n("p",{staticStyle:{"margin-bottom":"16px"}},[t._v("创建时间："+t._s(e.cTime))]),n("p",[t._v("咨询时间(北京时间)"+t._s(e.startTime))])]),n("li",[n("div",{staticClass:"order-amount"},[t._v("订单金额："+t._s(e.price)+"RMB")]),n("div",{staticClass:"flex-he"},[n("el-button",{attrs:{size:"small",plain:"",type:"success"},on:{click:function(n){return t.handleOpenChange(e)}}},[t._v("时间调整")])],1)])]),n("div",{staticClass:"desc"},[t._v("职业："+t._s(e.industry)+" 简介："+t._s(e.readme))]),n("h-title",[t._v("咨询的问题")]),n("ul",{staticClass:"question-list"},t._l(e.question,(function(e,i){return n("li",{key:i,staticClass:"flex-vc"},[n("el-input",{staticClass:"question-input",attrs:{size:"medium",maxLength:100},model:{value:e.v,callback:function(n){t.$set(e,"v",n)},expression:"item.v"}}),n("el-button",{staticClass:"op-btn",attrs:{size:"small"},on:{click:function(e){return t.handleRemoveQuestion(a,i)}}},[t._v("删除")])],1)})),0),n("el-button",{attrs:{type:"success",plain:"",size:"small"},on:{click:function(e){return t.handleAddQuestion(a)}}},[t._v("+添加问题")]),e.question.length?n("el-button",{attrs:{loading:t.isLoading,type:"success",plain:"",size:"small"},on:{click:function(n){return t.handleSaveQuestion(e)}}},[t._v("保存")]):t._e(),n("div",{staticClass:"flex-he btns"},[n("el-button",{attrs:{size:"small",plain:"",type:"success"},on:{click:function(n){return t.handleOpenCancel(e)}}},[t._v("订单取消")]),n("el-button",{attrs:{size:"small",plain:"",type:"success"},on:{click:function(n){return t.handleEnterRoom(e.orderId)}}},[t._v("进入房间")])],1)],1)})),t.list.length?n("div",{staticClass:"flex-he",staticStyle:{"margin-top":"20px"}},[n("el-pagination",t._g(t._b({ref:"pagination",attrs:{id:"pagin","page-sizes":t.pagination.pageSizes||[10,20,30,40],total:t.pagination.total,"current-page":t.pagination.pageIndex,"page-size":t.pagination.pageSize,layout:"prev, pager, next",background:"",small:""}},"el-pagination",t.pagination.props,!1),t.pagination.events))],1):t._e(),n("cancel-modal",{attrs:{isShow:t.isShow,order:t.order},on:{close:t.handleClose}}),n("change-modal",{attrs:{isShow:t.isShowTime,order:t.order},on:{close:t.handleCloseTime}})],2)},N=[],Q=(n("a434"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"订单取消",visible:t.isShow,"before-close":t.handleClose,width:"430px",center:""},on:{"update:visible":function(e){t.isShow=e}}},[n("section",{staticClass:"modal-main"},[n("p",[t._v("当前订单取消会扣除XXX RMB费用")]),n("p",[t._v("退款金额为XXX RMB")]),n("p",[n("el-link",{attrs:{type:"success"}},[t._v("点击了解更多规则")])],1)]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{loading:t.isLoading,size:"small",type:"success",plain:""},on:{click:t.confirm}},[t._v("确认退款")])],1)])}),V=[],W={props:["isShow","order"],data:function(){return{isLoading:!1}},methods:{handleClose:function(){this.$emit("close")},confirm:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.isLoading){e.next=2;break}return e.abrupt("return",!1);case 2:return t.isLoading=!0,e.next=5,Object(p["a"])({orderId:t.order.orderId}).catch((function(e){return t.isLoading=!1}));case 5:n=e.sent,n.result&&(t.alert("订单取消成功"),t.$emit("close",!0)),t.isLoading=!1;case 8:case"end":return e.stop()}}),e)})))()}}},F=W,J=(n("3f7b"),Object(h["a"])(F,Q,V,!1,null,"180c21e0",null)),G=J.exports,K=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"订单详情",visible:t.isShow,"before-close":t.handleClose,width:"700px",center:""},on:{"update:visible":function(e){t.isShow=e}}},[n("section",{staticClass:"modal-main"},[n("div",{staticClass:"flex"},[n("p",{staticClass:"order-no"},[t._v("订单号: "+t._s(t.order.orderId))]),n("div",[t._v("创建时间: "+t._s(t.order.cTime))])]),n("p",{staticClass:"time"},[t._v("咨询时间(北京时间)"+t._s(t.order.startTime))]),n("p",{staticClass:"time"},[t._v("调整时间会产生XXXRMB的费用 "),n("el-link",{attrs:{type:"success"}},[t._v("点击了解更多规则")])],1),n("calendar",{attrs:{change:t.isShow},on:{"set-time":t.handleSetTime}},[n("el-button",{staticStyle:{"margin-top":"40px"},attrs:{loading:t.isLoading,size:"small",type:"success"},on:{click:t.handleConfirmTime}},[t._v("确认调整")])],1)],1)])},Z=[],tt={props:["isShow","order"],components:{Calendar:C["a"]},data:function(){return{isLoading:!1,times:[]}},methods:{handleSetTime:function(t){this.times=t},handleClose:function(){this.$emit("close")},handleConfirmTime:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.times.length){e.next=3;break}return t.alert("请选择时间","warning"),e.abrupt("return",!1);case 3:if(!t.isLoading){e.next=5;break}return e.abrupt("return",!1);case 5:return t.isLoading=!0,e.next=8,Object(p["l"])({orderId:t.order.orderId,consumerTime:t.times.map((function(t){return Math.ceil(t.value/1e3)}))}).catch((function(e){return t.isLoading=!1}));case 8:n=e.sent,n.result&&(t.alert("更新时间成功"),t.$emit("close",!0)),t.isLoading=!1;case 11:case"end":return e.stop()}}),e)})))()}}},et=tt,nt=(n("7457"),n("6d4d"),Object(h["a"])(et,K,Z,!1,null,"33f0e579",null)),at=nt.exports,it={name:"waiting-service",props:["list","pagination","query"],components:{SmallAvatar:c["a"],CancelModal:G,ChangeModal:at},data:function(){return{isShowTime:!1,isShow:!1,order:{},orderList:this.list,isLoading:!1}},methods:{handleSaveQuestion:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e.isLoading){n.next=2;break}return n.abrupt("return",!1);case 2:return e.isLoading=!0,n.next=5,Object(p["h"])({orderId:t.orderId,question:t.question?t.question.map((function(t){return t.v})):[]}).catch((function(t){return e.isLoading=!1}));case 5:a=n.sent,a.result&&e.alert("保存成功"),e.isLoading=!1;case 8:case"end":return n.stop()}}),n)})))()},handleRemoveQuestion:function(t,e){this.orderList[t].question.splice(e,1),this.orderList[t].question.length||this.handleSaveQuestion(this.orderList[t])},handleAddQuestion:function(t){if(20==this.orderList[t].question.length)return!1;this.orderList[t].question.push({v:""})},handleOpenCancel:function(t){this.isShow=!0,this.order=t},handleClose:function(t){this.isShow=!1,t&&this.query()},handleOpenChange:function(t){this.isShowTime=!0,this.order=t},handleCloseTime:function(t){this.isShowTime=!1,t&&this.query()},handleEnterRoom:function(t){this.$router.push("/consumer/room/".concat(t))}}},st=it,rt=(n("6a7b"),Object(h["a"])(st,U,N,!1,null,"fb1bc7ca",null)),ot=rt.exports,lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.list,(function(e,a){return n("el-card",{key:a,staticClass:"order-item"},[n("ul",{staticClass:"list-item flex-hb"},[n("li",[n("p",{staticStyle:{"margin-bottom":"10px"}},[t._v("订单号："+t._s(e.orderId))]),n("div",{staticClass:"flex-vc"},[n("small-avatar",{attrs:{imgUrl:e.avatar}}),n("div",[t._v(t._s(e.name))])],1)]),n("li",[n("p",{staticStyle:{"margin-bottom":"10px"}},[t._v("创建时间："+t._s(e.cTime))]),n("p",[t._v("咨询时间(北京时间)"+t._s(e.startTime))])]),n("li",[n("div",{staticClass:"order-amount"},[t._v("订单金额："+t._s(e.price)+"RMB")])])]),n("div",{staticClass:"desc"},[t._v("职业："+t._s(e.industry)+" 简介："+t._s(e.readme))]),n("h-title",[t._v("咨询的问题")]),n("ul",{staticClass:"question-list"},t._l(e.question,(function(e,a){return n("li",{key:a,staticClass:"flex-vc"},[t._v(" "+t._s(e)+" ")])})),0),n("div",{staticClass:"flex-he btns"},[n("el-button",{attrs:{size:"small",plain:"",type:"success"},on:{click:function(n){return t.handleOpenComplaint(e)}}},[t._v("投诉")]),n("el-button",{attrs:{size:"small",plain:"",type:"success"},on:{click:function(n){return t.handleOpenRate(e)}}},[t._v("评价")])],1)],1)})),t.list.length?n("div",{staticClass:"flex-he",staticStyle:{"margin-top":"20px"}},[n("el-pagination",t._g(t._b({ref:"pagination",attrs:{id:"pagin","page-sizes":t.pagination.pageSizes||[10,20,30,40],total:t.pagination.total,"current-page":t.pagination.pageIndex,"page-size":t.pagination.pageSize,layout:"prev, pager, next",background:"",small:""}},"el-pagination",t.pagination.props,!1),t.pagination.events))],1):t._e(),n("rate-modal",{attrs:{isShow:t.isShowRate,orderId:t.orderId},on:{close:t.handleCloseRate,rate:t.handleRate}}),n("complaint-modal",{attrs:{isShow:t.isShowComplaint,orderId:t.orderId},on:{close:t.handleCloseComplaint,complaint:t.handleComplaint}})],2)},ct=[],ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"评价",visible:t.isShow,"before-close":t.handleClose,width:"560px",center:""},on:{"update:visible":function(e){t.isShow=e}}},[n("section",{staticClass:"modal-main"},[n("div",{staticClass:"flex rate"},[n("p",{staticStyle:{"margin-right":"10px"}},[t._v("评价:")]),n("el-rate",{model:{value:t.point,callback:function(e){t.point=e},expression:"point"}})],1),n("p",{staticClass:"explain"},[t._v("说明:")]),n("el-input",{attrs:{type:"textarea",maxLength:300,rows:4,placeholder:""},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{loading:t.isLoading,size:"small",type:"success"},on:{click:t.handleRate}},[t._v("确认提交")])],1)])},dt=[],pt={props:["isShow","orderId"],data:function(){return{point:0,content:"",isLoading:!1}},methods:{handleClose:function(){this.$emit("close")},handleRate:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.point<1)){e.next=3;break}return t.alert("请选择评分","warning"),e.abrupt("return",!1);case 3:if(t.content){e.next=6;break}return t.alert("请填写评价说明","warning"),e.abrupt("return",!1);case 6:if(!t.isLoading){e.next=8;break}return e.abrupt("return");case 8:return t.isLoading=!0,e.next=11,Object(p["j"])({point:t.point,content:t.content,orderId:t.orderId}).catch((function(e){return t.isLoading=!1}));case 11:n=e.sent,t.isLoading=!1,n.result&&(t.alert("评价成功"),t.$emit("close",!0));case 14:case"end":return e.stop()}}),e)})))()}}},mt=pt,ft=(n("5f35"),Object(h["a"])(mt,ut,dt,!1,null,"4710c966",null)),ht=ft.exports,gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{title:"投诉",visible:t.isShow,"before-close":t.handleClose,width:"560px",center:""},on:{"update:visible":function(e){t.isShow=e}}},[n("section",{staticClass:"modal-main"},[n("el-select",{attrs:{size:"small"},model:{value:t.title,callback:function(e){t.title=e},expression:"title"}},[n("el-option",{attrs:{value:"1",label:"未回答提纲问题"}})],1),n("p",{staticClass:"explain"},[t._v("说明:")]),n("el-input",{attrs:{type:"textarea",rows:4,placeholder:""},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{loading:t.isLoading,size:"small",type:"success"},on:{click:t.handleComplaint}},[t._v("确认提交")])],1)])},vt=[],bt={props:["isShow","orderId"],data:function(){return{isLoading:!1,title:"1",content:""}},methods:{handleClose:function(){this.$emit("close")},handleComplaint:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.isLoading){e.next=2;break}return e.abrupt("return");case 2:return t.isLoading=!0,e.next=5,Object(p["b"])({title:t.title,content:t.content,orderId:t.orderId}).catch((function(e){return t.isLoading=!1}));case 5:n=e.sent,t.isLoading=!1,n.result&&(t.alert("投诉成功"),t.$emit("close",!0));case 8:case"end":return e.stop()}}),e)})))()}}},_t=bt,Ct=(n("f00d"),Object(h["a"])(_t,gt,vt,!1,null,"7eb9ecd1",null)),xt=Ct.exports,wt={name:"waiting-rate",props:["list","pagination","query"],components:{RateModal:ht,ComplaintModal:xt,SmallAvatar:c["a"]},data:function(){return{orderId:"",isShowComplaint:!1,isShowRate:!1}},methods:{handleOpenComplaint:function(t){this.isShowComplaint=!0,this.orderId=t.orderId},handleCloseComplaint:function(t){this.isShowComplaint=!1,t&&this.query()},handleComplaint:function(){this.isShowComplaint=!1},handleOpenRate:function(t){this.orderId=t.orderId,this.isShowRate=!0},handleCloseRate:function(t){this.isShowRate=!1,t&&this.query()},handleRate:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.isShowRate=!1;case 1:case"end":return e.stop()}}),e)})))()}}},St=wt,yt=(n("6ad2"),Object(h["a"])(St,lt,ct,!1,null,"bb9da46e",null)),kt=yt.exports,Ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.list,(function(e,a){return n("el-card",{key:a,staticClass:"order-item"},[n("ul",{staticClass:"list-item flex-hb",style:{paddingBottom:"7"==e.status?"10px":0}},[n("li",[n("p",{staticStyle:{"margin-bottom":"10px"}},[t._v("订单号:"+t._s(e.orderId))]),n("div",{staticClass:"flex-vc"},[n("small-avatar",{attrs:{imgUrl:e.avatar}}),n("div",[t._v(t._s(e.name))])],1)]),n("li",[n("p",{staticStyle:{"margin-bottom":"10px"}},[t._v("创建时间:"+t._s(e.cTime))]),n("p",[t._v("咨询时间(北京时间)"+t._s(e.startTime))])]),n("li",[n("div",{staticClass:"order-amount"},[t._v("订单金额:"+t._s(e.price)+" RMB")]),"7"==e.status?n("p",{staticClass:"flex"},[n("span",[t._v("评价：")]),n("el-rate",{attrs:{disabled:""},model:{value:e.rate,callback:function(n){t.$set(e,"rate",n)},expression:"o.rate"}})],1):n("p",{staticClass:"order-cancel"},[t._v("已取消")])])]),"7"==e.status&&e.question&&e.question.length?n("div",{staticClass:"flex-he btns"},[n("el-button",{attrs:{size:"small",plain:"",type:"success"}},[t._v("咨询问题")])],1):t._e()])})),t.list.length?n("div",{staticClass:"flex-he",staticStyle:{"margin-top":"20px"}},[n("el-pagination",t._g(t._b({ref:"pagination",attrs:{id:"pagin","page-sizes":t.pagination.pageSizes||[10,20,30,40],total:t.pagination.total,"current-page":t.pagination.pageIndex,"page-size":t.pagination.pageSize,layout:"prev, pager, next",background:"",small:""}},"el-pagination",t.pagination.props,!1),t.pagination.events))],1):t._e()],2)},Tt=[],Lt={name:"finish-order",props:["list","pagination"],data:function(){return{}},components:{SmallAvatar:c["a"]},methods:{handelOrderCancel:function(){},handelOrderDetail:function(){}}},Rt=Lt,It=(n("8e47"),Object(h["a"])(Rt,Ot,Tt,!1,null,"4f6a5ed5",null)),zt=It.exports,jt=n("456e"),Mt=n("4b89"),qt=n("3de1"),Et={name:"consumer-order",components:{WaitingPay:z,WaitingConfirm:X,WaitingService:ot,WaitingRate:kt,FinishOrder:zt,Pannel:jt["a"],CareerList:Mt["a"]},data:function(){return{selPannel:{name:"待付款订单",status:"1",component:"waiting-pay"},pannels:[{name:"待付款订单",status:"1",component:"waiting-pay"},{name:"待确认订单",status:"2,3",component:"waiting-confirm"},{name:"待服务订单",status:"4,5",component:"waiting-service"},{name:"待评价订单",status:"6",component:"waiting-rate"},{name:"已完成订单",status:"0,7,8",component:"finish-order"}],list:[],pagination:{total:0,pageIndex:0,pageSize:10,events:{"current-change":this.handlePageChange,"size-change":this.handlePageSizeChange}}}},created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n="status==1",a=t.$route.query.status,a&&(n=qt["a"].formatStatus(a),t.selPannel=t.pannels.find((function(t){return t.status==a}))),t.params={from:0,to:2601444690,condition:n},t.query();case 5:case"end":return e.stop()}}),e)})))()},methods:(T={query:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,a,i,s,r,o,l,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.loading(),a=t.pagination,i=a.pageIndex,s=a.pageSize,r=t.params,o=r.from,l=r.to,c=r.condition,e.next=5,Object(p["f"])({from:o||0,to:l||2601444690,page:i||0,limit:s||10,condition:c||""}).catch((function(t){return n.close()}));case 5:u=e.sent,u.result&&u.msg&&(t.pagination.total=u.msg.count,t.list=qt["a"].formatConsumerOrder(u.msg.list)),n.close();case 8:case"end":return e.stop()}}),e)})))()},handlePageChange:function(t){this.pagination.pageIndex=t,this.query()},handlePageSizeChange:function(t){this.pagination.pageSize=t,this.query()},handlePannelChange:function(t){var e=this.selPannel.status;if(t.status==e)return!1;this.selPannel=t,this.list=[],this.pagination.total=0,this.pagination.pageIndex=0,this.pagination.pageSize=10,this.params.from=0,this.params.to=2601444690,this.params.condition=qt["a"].formatStatus(t.status),this.query()}},Object(s["a"])(T,"handlePageChange",(function(t){this.pagination.pageIndex=t,this.query()})),Object(s["a"])(T,"handlePageSizeChange",(function(t){this.pagination.pageSize=t,this.query()})),T)},$t=Et,Yt=(n("7ce5"),n("b343"),Object(h["a"])($t,a,i,!1,null,"482e13ec",null));e["default"]=Yt.exports},"293f":function(t,e,n){},"2e6a":function(t,e,n){},"39cf":function(t,e,n){},"3de1":function(t,e,n){"use strict";n("99af"),n("4160"),n("d81d"),n("b0c0"),n("ac1f"),n("1276"),n("159b");var a=n("5530"),i=n("c1df"),s=n.n(i);function r(t){return t.map((function(t){var e=t.consultant,n=(e.avatar,e.name,e.readme,"");if(t.confirmTimeout){var a=1e3*t.confirmTimeout-s()().valueOf();if(a>0){var i=a/36e5,r=Math.floor(i),o=Math.ceil(60*(i-r));n="还有".concat(r,"小时").concat(o,"分开始")}else n="已过期"}return{orderId:t._id,avatar:Object({NODE_ENV:"production",VUE_APP_BASE_API:"http://www.leavesyesong.xyz/api",BASE_URL:"/"}).VUE_APP_HOST_NAME+t.consumerAvatar,name:t.consumerNickName,cTime:s()(1e3*t.cTime).format("YYYY-MM-DD HH:mm:ss"),rest:n,startTime:t.startTime?s()(1e3*t.startTime).format("YYYY-MM-DD HH:mm:ss"):"",consumerTime:t.consumerTime?t.consumerTime.map((function(t){var e=1e3*t;return{text:"".concat(s()(e).format("YYYY-MM-DD")," ").concat(s()(e).format("HH:mm:ss"),"~").concat(s()(e).subtract(-90,"minutes").format("HH:mm:ss")),value:t}})):[],consultantTime:t.consultantTime?t.consultantTime.map((function(t){var e=1e3*t;return{text:"".concat(s()(e).format("YYYY-MM-DD")," ").concat(s()(e).format("HH:mm:ss"),"~").concat(s()(e).subtract(-90,"minutes").format("HH:mm:ss")),value:t}})):[],price:t.price,status:t.status,rate:t.evaluation?t.evaluation.point:0,complaint:t.complaint?t.complaint:{},evaluation:t.evaluation?t.evaluation:{}}}))}function o(t){return t.map((function(t){var e=t._id,n=t.roomId,i=t.cTime,r=t.startTime,o=t.consumerTime,l=t.consultantTime,c=t.price,u=t.status,d=t.evaluation,p=t.question,m=t.consultant,f=m.work,h=m.education,g="";if(t.startTime){var v=1e3*t.startTime-s()().valueOf();if(v>0){var b=v/36e5,_=Math.floor(b),C=Math.ceil(60*(b-_));g="还有".concat(_,"小时").concat(C,"分开始")}else g="已过期"}return Object(a["a"])(Object(a["a"])(Object(a["a"])({},f),h),{},{orderId:e,avatar:Object({NODE_ENV:"production",VUE_APP_BASE_API:"http://www.leavesyesong.xyz/api",BASE_URL:"/"}).VUE_APP_HOST_NAME+m.avatar,name:m.name,readme:m.readme,roomId:n,rest:g,startTime:s()(1e3*r).format("YYYY-MM-DD HH:mm:ss"),cTime:s()(1e3*i).format("YYYY-MM-DD HH:mm:ss"),consumerTime:o?o.map((function(t){var e=1e3*t;return{text:"".concat(s()(e).format("YYYY-MM-DD")," ").concat(s()(e).format("HH:mm:ss"),"~").concat(s()(e).subtract(-90,"minutes").format("HH:mm:ss")),value:t}})):[],consultantTime:l?l.map((function(t){var e=1e3*t;return{text:"".concat(s()(e).format("YYYY-MM-DD")," ").concat(s()(e).format("HH:mm:ss"),"~").concat(s()(e).subtract(-90,"minutes").format("HH:mm:ss")),value:t}})):[],price:c,status:u,rate:d?d.point:0,question:p?p.map((function(t){return{v:t}})):[]})}))}function l(t){var e=t.split(","),n="";return e.forEach((function(t,a){a==e.length-1?n+="status==".concat(t):n+="status==".concat(t,":")})),n}e["a"]={formatConsultantOrder:r,formatConsumerOrder:o,formatStatus:l}},"3f7b":function(t,e,n){"use strict";var a=n("9831"),i=n.n(a);i.a},4894:function(t,e,n){"use strict";var a=n("f5da"),i=n.n(a);i.a},"4b89":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"more-select"},t._l(3,(function(e,a){return n("li",{key:a},[n("el-image",{staticClass:"logo",attrs:{src:""}}),n("h1",[t._v("Google")]),n("p",[t._v("由拉里·佩奇和谢尔盖·布林共同创建，被公认为全球最大的搜索引擎公司。谷歌是一家位于美国的跨国科技企业，业务包括互联网搜索…")]),n("el-button",{staticClass:"learn-more",attrs:{size:"small",type:"success",plain:""}},[t._v("了解更多")])],1)})),0)},i=[],s={name:"career-list",data:function(){return{}},methods:{}},r=s,o=(n("4894"),n("2877")),l=Object(o["a"])(r,a,i,!1,null,"2248ccdb",null);e["a"]=l.exports},"4dba":function(t,e,n){},"4e10":function(t,e,n){"use strict";var a=n("a0bf"),i=n.n(a);i.a},"4f69":function(t,e,n){},"5f35":function(t,e,n){"use strict";var a=n("6b79"),i=n.n(a);i.a},6080:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n("b775");function i(t){return Object(a["a"])({url:"/consultant/platform/consultant/timeAvailable",method:"put",data:t})}},"666d":function(t,e,n){},"6a7b":function(t,e,n){"use strict";var a=n("e341"),i=n.n(a);i.a},"6ad2":function(t,e,n){"use strict";var a=n("666d"),i=n.n(a);i.a},"6ad7":function(t,e,n){},"6b79":function(t,e,n){},"6d4d":function(t,e,n){"use strict";var a=n("6ad7"),i=n.n(a);i.a},7457:function(t,e,n){"use strict";var a=n("b00b"),i=n.n(a);i.a},7545:function(t,e,n){"use strict";var a=n("e806"),i=n.n(a);i.a},"7ce5":function(t,e,n){"use strict";var a=n("a160"),i=n.n(a);i.a},"7db0":function(t,e,n){"use strict";var a=n("23e7"),i=n("b727").find,s=n("44d2"),r=n("ae40"),o="find",l=!0,c=r(o);o in[]&&Array(1)[o]((function(){l=!1})),a({target:"Array",proto:!0,forced:l||!c},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),s(o)},"7db3":function(t,e,n){"use strict";var a=n("293f"),i=n.n(a);i.a},8960:function(t,e,n){},"8e47":function(t,e,n){"use strict";var a=n("4f69"),i=n.n(a);i.a},9831:function(t,e,n){},a0bf:function(t,e,n){},a160:function(t,e,n){},a434:function(t,e,n){"use strict";var a=n("23e7"),i=n("23cb"),s=n("a691"),r=n("50c4"),o=n("7b0b"),l=n("65f0"),c=n("8418"),u=n("1dde"),d=n("ae40"),p=u("splice"),m=d("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,h=Math.min,g=9007199254740991,v="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!p||!m},{splice:function(t,e){var n,a,u,d,p,m,b=o(this),_=r(b.length),C=i(t,_),x=arguments.length;if(0===x?n=a=0:1===x?(n=0,a=_-C):(n=x-2,a=h(f(s(e),0),_-C)),_+n-a>g)throw TypeError(v);for(u=l(b,a),d=0;d<a;d++)p=C+d,p in b&&c(u,d,b[p]);if(u.length=a,n<a){for(d=C;d<_-a;d++)p=d+a,m=d+n,p in b?b[m]=b[p]:delete b[m];for(d=_;d>_-a+n;d--)delete b[d-1]}else if(n>a)for(d=_-a;d>C;d--)p=d+a-1,m=d+n-1,p in b?b[m]=b[p]:delete b[m];for(d=0;d<n;d++)b[d+C]=arguments[d+2];return b.length=_-a+n,u}})},b00b:function(t,e,n){},b0c0:function(t,e,n){var a=n("83ab"),i=n("9bf2").f,s=Function.prototype,r=s.toString,o=/^\s*function ([^ (]*)/,l="name";a&&!(l in s)&&i(s,l,{configurable:!0,get:function(){try{return r.call(this).match(o)[1]}catch(t){return""}}})},b343:function(t,e,n){"use strict";var a=n("4dba"),i=n.n(a);i.a},b5f6:function(t,e,n){"use strict";var a=n("8960"),i=n.n(a);i.a},b9aa:function(t,e,n){},c680:function(t,e,n){"use strict";var a=n("39cf"),i=n.n(a);i.a},d38b:function(t,e,n){"use strict";var a=n("1388"),i=n.n(a);i.a},e341:function(t,e,n){},e806:function(t,e,n){},f00d:function(t,e,n){"use strict";var a=n("b9aa"),i=n.n(a);i.a},f5da:function(t,e,n){}}]);