(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65b55bb4"],{1427:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("h1",{staticClass:"page-title flex-hbc"},[i("span",[t._v(t._s(t.isConfirm?"订单确认":"咨询师详情"))]),i("el-button",{attrs:{plain:"",size:"mini",icon:"el-icon-arrow-left"},on:{click:t.goBack}},[t._v("返回")])],1),i("section",{directives:[{name:"show",rawName:"v-show",value:!t.isConfirm,expression:"!isConfirm"}],staticClass:"card-box"},[i("div",{staticClass:"flex-hb"},[i("el-card",{staticClass:"left"},[i("avatar",{attrs:{imgUrl:t.info.avatarImage}}),i("p",{staticClass:"name"},[t._v(t._s(t.info.nickName))]),i("div",{staticClass:"flex-hbc rate-box",on:{click:t.showRateDetail}},[i("el-rate",{attrs:{disabled:""},model:{value:t.rate,callback:function(e){t.rate=e},expression:"rate"}}),i("p",[t._v("评价:234")])],1),i("p",{staticClass:"motto"},[t._v(t._s(t.info.selfIntroduction))]),i("div",{staticClass:"flex-hb"},[i("p",{staticClass:"cost-item"},[t._v("咨询费用")]),i("div",{staticClass:"flex-hc"},[i("div",{staticClass:"num"},[t._v(t._s(t.info.price))]),i("div",{staticClass:"unit"},[t._v("RMB")])])])],1),i("el-card",{staticClass:"right"},[i("ul",[i("li",{staticClass:"flex-hbc info-item"},[i("div",[i("h1",[t._v("最高学历")]),i("p",[t._v(t._s(t.info.highEdu))])]),i("el-button",{attrs:{size:"mini",plain:""}},[t._v("更多")])],1),i("li",{staticClass:"info-item flex-hbc"},[i("div",[i("h1",[t._v("工作信息")]),i("p",{staticStyle:{"margin-bottom":"10px"}},[t._v("所属行业: "+t._s(t.info.industry))]),i("p",[t._v("公司名称: "+t._s(t.info.company))])]),i("div",[t._v("职位: "+t._s(t.info.position))]),i("div",[t._v("工作年限: 5年")]),i("el-button",{attrs:{size:"mini",plain:""}},[t._v("更多")])],1),i("li",{staticClass:"info-item"},[i("h1",[t._v("主要工作内容")]),i("p",[t._v(t._s(t.info.duty))])]),i("li",{staticClass:"info-item"},[i("h1",[t._v("工作个人技能")]),i("p",[t._v(t._s(t.info.skills))])])])])],1),i("el-card",{staticClass:"calendar-card"},[i("h1",[t._v("可预约时间表(北京时间)")]),i("calendar",{on:{"create-order":t.handleCreateOrder}})],1)],1),t.isConfirm?i("section",{staticClass:"card-box"},[i("el-card",[i("div",{staticClass:"flex-hb conform-info"},[i("div",{staticClass:"content-l"},[i("avatar",{attrs:{imgUrl:t.info.avatarImage}}),i("p",{staticClass:"name"},[t._v(t._s(t.info.nickName))]),i("el-rate",{staticClass:"user-rate",attrs:{disabled:""},model:{value:t.rate,callback:function(e){t.rate=e},expression:"rate"}})],1),i("div",{staticClass:"content-r"},[i("div",{staticClass:"flex base-info"},[i("span",[t._v("所属行业: "+t._s(t.info.industry))]),i("span",[t._v("公司名称: "+t._s(t.info.company))]),i("span",[t._v("职位: "+t._s(t.info.position))])]),i("h1",{staticClass:"time-title"},[t._v("候选预约时间")]),i("ul",{staticClass:"book-times flex-hb"},t._l(t.info.times,(function(e,a){return i("li",{key:a},[t._v(" "+t._s(e.selText)+" "),i("i",{staticClass:"el-icon-error"})])})),0),i("p",{staticClass:"degree"},[t._v("你的个人信息完整度是60%,建议完善个人信息让咨询师提供更为针对性的建议 "),i("el-link",{attrs:{type:"success"}},[t._v("完善信息")])],1)])]),i("div",{staticClass:"flex-hec cost-box"},[i("span",{staticClass:"cost-item",staticStyle:{"margin-right":"20px"}},[t._v("咨询费用")]),i("div",{staticClass:"confirm-num"},[t._v(t._s(t.info.price))]),i("div",{staticClass:"unit"},[t._v("RMB")])]),i("div",{staticClass:"flex-hec terms"},[i("el-checkbox",{staticClass:"check-box",model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}},[t._v("我已阅读条款 点击 "),i("el-link",{attrs:{type:"success"}},[t._v("了解规则")])],1),i("el-button",{attrs:{type:"success",size:"small"},on:{click:t.handleClickPay}},[t._v("确认付款")])],1)])],1):t._e(),i("rate-list",{attrs:{isShow:t.isShow},on:{close:t.handleClose}}),i("pay",{attrs:{isShow:t.isShowPay},on:{close:t.handleClosePay,confirm:t.handleConfirmPay}})],1)},s=[],n=(i("99af"),i("d81d"),i("d3b7"),i("25f0"),i("96cf"),i("1da1")),o=i("5530"),c=i("77c0"),r=i("a16a"),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{title:"评价详情",visible:t.isShow,"before-close":t.handleClose,width:"630px",center:""},on:{"update:visible":function(e){t.isShow=e}}},[i("section",{staticClass:"modal-main"},[i("ul",t._l(t.rateList,(function(e,a){return i("li",{key:a},[i("div",{staticClass:"flex-hbc"},[i("el-rate",{attrs:{disabled:""},model:{value:e.rate,callback:function(i){t.$set(e,"rate",i)},expression:"item.rate"}}),i("p",[t._v("评价时间："+t._s(e.time))])],1),i("p",{staticClass:"rate-content"},[t._v(t._s(e.content))]),i("p",{staticClass:"rate-replay"},[t._v(t._s(e.replay))])])})),0)])])},u=[],f={name:"rate-list",components:{},props:["isShow"],data:function(){return{rateList:[{rate:4,time:"2002-01-20 12:08:20",content:"声音温柔，很有耐心，有问必答超级nice",replay:"咨询师回复：感谢您的肯定，很荣幸，希望继"},{rate:4,time:"2002-01-20 12:08:20",content:"声音温柔，很有耐心，有问必答超级nice",replay:"咨询师回复：感谢您的肯定，很荣幸，希望继"},{rate:4,time:"2002-01-20 12:08:20",content:"声音温柔，很有耐心，有问必答超级nice",replay:"咨询师回复：感谢您的肯定，很荣幸，希望继"},{rate:4,time:"2002-01-20 12:08:20",content:"声音温柔，很有耐心，有问必答超级nice",replay:"咨询师回复：感谢您的肯定，很荣幸，希望继"},{rate:4,time:"2002-01-20 12:08:20",content:"声音温柔，很有耐心，有问必答超级nice",replay:"咨询师回复：感谢您的肯定，很荣幸，希望继"}]}},methods:{handleClose:function(){this.$emit("close")}}},d=f,m=(i("32b37"),i("2877")),h=Object(m["a"])(d,l,u,!1,null,"0b12e5c1",null),p=h.exports,v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{title:"选择支付方式",visible:t.isShow,"before-close":t.handleClose,width:"430px",s:"",center:""},on:{"update:visible":function(e){t.isShow=e}}},[i("section",{staticClass:"modal-main"},[i("ul",{staticClass:"flex-hb pay-list"},t._l(t.pays,(function(e,a){return i("li",{key:a,staticClass:"flex-cc",class:{active:t.curPay===a},on:{click:function(i){return t.handleClickPay(e,a)}}},[i("el-image",{staticClass:"pay-img",attrs:{src:e.img}})],1)})),0)]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{staticStyle:{width:"180px"},attrs:{type:"primary",plain:"",round:""},on:{click:t.handleConfirm}},[t._v("确认")])],1)])},b=[],C={name:"pays",components:{},props:["isShow"],data:function(){return{curPay:"",pays:[{img:""},{img:""},{img:""}]}},methods:{handleClickPay:function(t,e){this.curPay=e},handleConfirm:function(){this.$emit("confirm")},handleClose:function(){this.$emit("close")}}},_=C,y=(i("b09f"),Object(m["a"])(_,v,b,!1,null,"b1c7a1c8",null)),g=y.exports,k=i("c24f"),w=i("f8b7"),x=i("c1df"),S=i.n(x),P=i("2f62"),I={name:"consultant-detail",components:{Avatar:c["a"],Calendar:r["a"],RateList:p,Pay:g},data:function(){return{info:{},rate:4,isShow:!1,checked:!1,isConfirm:!1,isShowPay:!1}},computed:Object(o["a"])({},Object(P["b"])(["user"])),created:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var i,a,s,n,o,c,r,l,u,f,d,m,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.loading(),e.next=3,Object(k["c"])({userId:t.$route.params.id}).catch((function(t){return i.close()}));case 3:a=e.sent,a.result&&a.msg.publicInfo&&(t.publicInfo=a.msg.publicInfo,s=a.msg.publicInfo,n=s.resume.education[0],o=n.school,c=n.discipline,r=n.degree,l=n.graduationTime,u=s.resume.workExperience[0],f=u.industry,d=u.company,m=u.position,h=u.duty,t.info={price:a.msg.price,nickName:s.nickName,avatarImage:s.avatarImage,selfIntroduction:s.selfIntroduction,highEdu:"".concat(o," ").concat(c," ").concat(r," ").concat(S()(l).format("YYYY年毕业")),industry:f,company:d,position:m,duty:h,skills:s.resume.skills.toString()}),i.close();case 6:case"end":return e.stop()}}),e)})))()},methods:{handleClickPay:function(){this.isShowPay=!0},handleCreateOrder:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var a,s,n,o,c,r,l,u,f,d,m,h,p,v,b,C,_,y;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e.info.times=t,a=e.info,s=a.nickName,n=a.avatarImage,o=a.selfIntroduction,c=a.industry,r=a.company,l=a.position,u=a.duty,f=a.workingYears,d=a.skills,m=e.publicInfo.resume.education[0],h=m.school,p=m.discipline,v=m.degree,b=m.graduationTime,C={consumer:e.user.userId,consultant:{_id:e.$route.params.id,name:s,avatar:n,readme:o,education:{school:h,discipline:p,degree:v,graduationTime:b},work:{industry:c,company:r,position:l,workingYears:f,duty:u,skills:d}},consumerTime:t.map((function(t){return t.value}))},console.log(C,"参数"),_=e.loading(),i.next=8,Object(w["a"])(C).catch((function(t){return _.close()}));case 8:y=i.sent,y.result&&(e.alert("订单已生成"),e.isConfirm=!0),_.close();case 11:case"end":return i.stop()}}),i)})))()},showRateDetail:function(){this.isShow=!0},handleClose:function(){this.isShow=!1},handleClosePay:function(){this.isShowPay=!1},handleConfirmPay:function(){this.isShowPay=!1},goBack:function(){this.isConfirm?this.isConfirm=!1:this.$router.go(-1)}},mounted:function(){}},O=I,j=(i("b84f"),Object(m["a"])(O,a,s,!1,null,"9e628ed6",null));e["default"]=j.exports},"32b37":function(t,e,i){"use strict";var a=i("9306"),s=i.n(a);s.a},6080:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var a=i("b775");function s(t){return Object(a["a"])({url:"/consultant/platform/consultant/timeAvailable",method:"put",data:t})}},"7f5a":function(t,e,i){},9306:function(t,e,i){},"993e":function(t,e,i){},a434:function(t,e,i){"use strict";var a=i("23e7"),s=i("23cb"),n=i("a691"),o=i("50c4"),c=i("7b0b"),r=i("65f0"),l=i("8418"),u=i("1dde"),f=i("ae40"),d=u("splice"),m=f("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,p=Math.min,v=9007199254740991,b="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!d||!m},{splice:function(t,e){var i,a,u,f,d,m,C=c(this),_=o(C.length),y=s(t,_),g=arguments.length;if(0===g?i=a=0:1===g?(i=0,a=_-y):(i=g-2,a=p(h(n(e),0),_-y)),_+i-a>v)throw TypeError(b);for(u=r(C,a),f=0;f<a;f++)d=y+f,d in C&&l(u,f,C[d]);if(u.length=a,i<a){for(f=y;f<_-a;f++)d=f+a,m=f+i,d in C?C[m]=C[d]:delete C[m];for(f=_;f>_-a+i;f--)delete C[f-1]}else if(i>a)for(f=_-a;f>y;f--)d=f+a-1,m=f+i-1,d in C?C[m]=C[d]:delete C[m];for(f=0;f<i;f++)C[f+y]=arguments[f+2];return C.length=_-a+i,u}})},b09f:function(t,e,i){"use strict";var a=i("993e"),s=i.n(a);s.a},b84f:function(t,e,i){"use strict";var a=i("7f5a"),s=i.n(a);s.a},f8b7:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var a=i("b775");function s(t){return Object(a["a"])({url:"/order/platform/orders",method:"post",data:t})}}}]);