(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-087f5628"],{"017b":function(e,t,a){"use strict";var l=a("a759"),i=a.n(l);i.a},"1b62":function(e,t,a){"use strict";t["a"]={methods:{uploadBefore:function(e,t){if(console.log(e,2222),!this.checkFile(e))return!1},uploadSuccess:function(e,t,a,l){e.result&&this.afterUpload(e.msg,a,l)}}}},"3ae2":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[e._m(0),a("p",{staticClass:"form-title"},[e._v("学历信息")]),a("section",{staticClass:"form-box"},[e._l(e.education,(function(t,l){return a("el-card",{key:l,staticClass:"form-card"},[a("quick-form",{ref:"education"+l,refInFor:!0,attrs:{model:t,labelWidth:e.labelWidth}}),a("el-button",{staticClass:"del-btn",attrs:{size:"small",plain:""},on:{click:function(t){return e.handleDelEducation(l)}}},[e._v("删除")])],1)})),a("section",{staticClass:"flex-he"},[a("el-button",{staticClass:"add-btn",attrs:{type:"primary",plain:"",size:"small"},on:{click:e.handleAddEducation}},[e._v("+添加更多学历")])],1)],2),a("p",{staticClass:"line"}),a("p",{staticClass:"form-title"},[e._v("工作经历")]),a("section",{staticClass:"form-box"},[e._l(e.workExperience,(function(t,l){return a("el-card",{key:l,staticClass:"form-card"},[a("quick-form",{ref:"experience"+l,refInFor:!0,attrs:{model:t,labelWidth:e.labelWidth}}),a("el-button",{staticClass:"del-btn",attrs:{size:"small",plain:""},on:{click:function(t){return e.handleDelExperience(l)}}},[e._v("删除")])],1)})),a("section",{staticClass:"flex-he"},[a("el-button",{staticClass:"add-btn",attrs:{type:"primary",plain:"",size:"small"},on:{click:e.handleAddExperience}},[e._v("+添加更多工作经历")])],1)],2),a("quick-form",{ref:"socialEcurity",attrs:{model:e.socialEcurity,labelWidth:"216px"}}),a("p",{staticClass:"line"}),a("p",{staticClass:"form-title"},[e._v("执照与证书")]),a("section",{staticClass:"form-box"},[e._l(e.otherCertificates,(function(t,l){return a("el-card",{key:l,staticClass:"form-card"},[a("quick-form",{ref:"license"+l,refInFor:!0,attrs:{model:t,labelWidth:e.labelWidth}}),a("el-button",{staticClass:"del-btn",attrs:{size:"small",plain:""},on:{click:function(t){return e.handleDelLicense(l)}}},[e._v("删除")])],1)})),a("section",{staticClass:"flex-he"},[a("el-button",{staticClass:"add-btn",attrs:{type:"primary",plain:"",size:"small"},on:{click:e.handleAddLicense}},[e._v("+添加更多证书")])],1)],2),a("quick-form",{ref:"callup",attrs:{model:e.callup,labelWidth:"216px"}}),a("p",{staticClass:"line"}),a("section",[a("p",{staticClass:"form-title"},[e._v("语言")]),a("el-row",[a("el-col",{attrs:{offset:7,span:16}},[a("el-input",{staticStyle:{width:"460px","margin-right":"20px"},attrs:{placeholder:"请输入信息",size:"small",maxlength:10},model:{value:e.lang,callback:function(t){e.lang=t},expression:"lang"}}),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleAddLang}},[e._v("确认添加")])],1)],1),a("el-row",[a("el-col",{attrs:{offset:7,span:14}},[a("ul",{staticClass:"flex item-select"},e._l(e.language,(function(t,l){return a("li",{key:l},[e._v(e._s(t)+" "),a("i",{staticClass:"el-icon-close",on:{click:function(t){return e.handleDelLang(l)}}})])})),0)])],1)],1),a("p",{staticClass:"line"}),a("section",[a("p",{staticClass:"form-title"},[e._v("工作个人技能")]),a("el-row",[a("el-col",{attrs:{offset:7,span:16}},[a("el-input",{staticStyle:{width:"460px","margin-right":"20px"},attrs:{placeholder:"请输入信息",size:"small",maxlength:20},model:{value:e.skill,callback:function(t){e.skill=t},expression:"skill"}}),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.handleAddSkill}},[e._v("确认添加")])],1)],1),a("el-row",[a("el-col",{attrs:{offset:7,span:14}},[a("ul",{staticClass:"flex item-select"},e._l(e.skills,(function(t,l){return a("li",{key:l},[e._v(e._s(t)+" "),a("i",{staticClass:"el-icon-close",on:{click:function(t){return e.handleDelSkill(l)}}})])})),0)])],1)],1),a("div",{staticClass:"flex-he",staticStyle:{margin:"60px 60px 70px 0"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleSave(1)}}},[e._v("保存并提交审核")]),a("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.handleSave(2)}}},[e._v("保存")])],1),a("submit-finish",{attrs:{isShow:e.isShow},on:{close:e.handleClose}})],1)},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex-vc page-title"},[a("div",[e._v("编辑个人信息")]),a("p",[e._v("成为咨询师需要认证简历信息,请先完成简历填写")])])}],n=(a("99af"),a("4160"),a("caad"),a("d81d"),a("a434"),a("b64b"),a("d3b7"),a("3ca3"),a("159b"),a("ddb0"),a("2909")),s=(a("96cf"),a("1da1")),r=a("5530"),o=a("2ef0"),c=a.n(o),u=a("4d06"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"信息已经提交审核",visible:e.isShow,width:"430px",center:""},on:{"update:visible":function(t){e.isShow=t}}},[a("section",{staticClass:"modal-main"},[a("p",[e._v("如果你还未设置过您的服务时间 ")]),a("p",[e._v("可以通过下面按钮设置")]),a("p",[e._v("以便通过审核后立即开始接受订单")])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini",type:"primary",plain:""},on:{click:e.handleConfirmTime}},[e._v("服务时间设置")])],1)])},d=[],h={name:"order-detail",props:["isShow"],data:function(){return{}},methods:{handleConfirmTime:function(){this.$emit("close")}}},f=h,g=(a("017b"),a("2877")),b=Object(g["a"])(f,p,d,!1,null,"e8bd0f70",null),m=b.exports,v=a("2b0e");function x(e){return e("div",[e("i",{style:{position:"absolute",right:"31px",top:"24px",fontSize:"14px"},class:"el-icon-plus"}),e("p",{style:{position:"absolute",left:"11px",top:"-15px",fontSize:"14px",color:"#9B9B9B"}},["上传证书"])])}var y=a("c1df"),k=a.n(y),C=v["default"].prototype.$rules,w={country:{type:"select",value:"",label:"国家",rules:[C.required()],props:{props:{label:"text",value:"value"}},options:[{text:"中国",value:"1"},{text:"美国",value:"2"}]},school:{type:"select",value:"",label:"学校",rules:[C.required()],props:{props:{label:"text",value:"value"}},options:[{text:"北大",value:"1"},{text:"清华",value:"2"}]},discipline:{type:"select",value:"",label:"专业",rules:[C.required()],props:{props:{label:"text",value:"value"}},options:[{text:"计算机",value:"1"},{text:"工商管理",value:"2"}]},GPA:{type:"select",value:"",label:"GPA",props:{props:{label:"text",value:"value"}},options:[{text:"70分",value:"1"},{text:"80分",value:"2"}],style:{width:"320px"}},degree:{type:"select",value:"",label:"学位",rules:[C.required()],props:{props:{label:"text",value:"value"}},options:[{text:"学士",value:"1"},{text:"硕士",value:"2"}],style:{width:"320px"}},graduationTime:{type:"date",value:"",label:"毕业时间",rules:[C.required()],props:{style:{width:"300px"},"picker-options":{disabledDate:function(e){return e.getTime()>k()().valueOf()}}}},studentOrganization:{type:"single-checkbox",layout:{span:24},text:"曾经参加学生组织",value:"",events:{change:function(e,t){this.handleCheckboxChange(1,e,t)}}},organizationTitle:{layout:{span:19},label:"",props:{placeholder:"职位（必填）",style:{width:"200px"}},value:"",rules:[C.required(),C.maxLength(20)],hide:!0},getRewarded:{type:"single-checkbox",text:"曾经获得奖项",layout:{span:24},value:"",events:{change:function(e,t){this.handleCheckboxChange(2,e,t)}}},rewardDescription:{layout:{span:19},label:"",props:{placeholder:"奖项描述（必填）",style:{width:"200px"}},value:"",rules:[C.required(),C.maxLength(100)],hide:!0},projectArticle:{type:"single-checkbox",text:"在校内有完成项目经历或发表文章",value:"",events:{change:function(e,t){this.handleCheckboxChange(3,e,t)}}},projectArticleDescription:{label:"",value:"",props:{type:"textarea",rows:"6",placeholder:"请输入内容描述（必填）"},rules:[C.required(),C.maxLength(300)],hide:!0},degreeCertificate:{label:"毕业证/学位证或者 学信网学历认证报告",rules:[C.required()],type:"upload",value:"",props:{action:"http://www.leavesyesong.xyz/api/user/platform/consultant/upload",accept:".jpg,.png,.gif",name:"UploadFiles",limit:1,disabled:!1,"list-type":"picture-card","show-file-list":!0,"auto-upload":!0,"before-upload":function(e,t){this.uploadBefore(t,e)},"on-success":function(e,t,a){this.uploadSuccess(t,a,e,["educations","degreeCertificate"])}},render:function(e){return x(e)}}},E=c.a.cloneDeep(w),_=[E],D=v["default"].prototype.$rules,S={industry:{type:"select",value:"",label:"行业",rules:[D.required()],props:{props:{label:"text",value:"value"}},options:[{text:"金融",value:"1"},{text:"互联网",value:"2"}]},company:{value:"",label:"企业",rules:[D.required(),D.maxLength(100)]},companySize:{type:"select",value:"",label:"公司规模",props:{props:{label:"text",value:"value"}},options:[{text:"0-10人",value:"1"},{text:"10-50人",value:"2"}]},department:{value:"",label:"部门",rules:[D.required(),D.maxLength(20)]},position:{type:"select",value:"",label:"职位",rules:[D.required()],props:{props:{label:"text",value:"value"}},options:[{text:"普通员工",value:"1"},{text:"CEO",value:"2"}]},level:{type:"select",value:"",label:"级别",rules:[D.required()],props:{props:{label:"text",value:"value"}},options:[{text:"P6",value:"1"},{text:"P7",value:"2"}]},onBoard:{type:"single-checkbox",text:"是否在职",value:""},entryTime:{label:"入职时间",value:"",type:"date",rules:[D.required()],layout:{span:12},props:{"picker-options":{disabledDate:function(e){return e.getTime()>k()().valueOf()}}}},resignationTime:{label:"离职时间",value:"",type:"date",rules:[D.required()],layout:{span:12},props:{"picker-options":{disabledDate:function(e){return e.getTime()>k()().valueOf()}}}},duty:{label:"主要工作内容与业绩",value:"",props:{type:"textarea",rows:"6"},rules:[D.maxLength(300)]},reward:{label:"奖励和荣誉",value:"",props:{type:"textarea",rows:"6"},rules:[D.maxLength(300)]},teamManagement:{type:"single-checkbox",layout:{span:24},text:"有带团队经历",value:"",events:{change:function(e,t){this.handleCheckboxChange(4,e,t)}}},teamMember:{layout:{span:14},label:"团队人数",props:{style:{width:"200px"}},value:"",rules:[D.nInt,D.range(0,1e7)],hide:!0},teamAchievement:{label:"主要成果",value:"",props:{type:"textarea",rows:"6"},rules:[D.maxLength(300)]}},j=c.a.cloneDeep(S),z=[j],O=v["default"].prototype.$rules,q={socialInsuranceImage:{label:"上传现任公司社保证明",type:"upload",rules:[O.required()],value:"",props:{action:"http://www.leavesyesong.xyz/api/user/platform/consultant/upload",accept:".jpg,.png,.gif",name:"UploadFiles",limit:1,disabled:!1,"list-type":"picture-card","show-file-list":!0,"auto-upload":!0,"before-upload":function(e,t){this.uploadBefore(t,e)},"on-success":function(e,t,a){this.uploadSuccess(t,a,e,["socialEcurity","socialInsuranceImage"])}},render:function(e){return x(e)}}},I=v["default"].prototype.$rules,$={name:{label:"拥有证书信息",value:"",layout:{span:10},rules:[I.maxLength(20)],props:{placeholder:"请输入证书名称"}},expireDate:{type:"date",label:"",value:"",layout:{span:7},labelWidth:"0",props:{placeholder:"有效日期"}},comments:{label:"",value:"",layout:{span:7},labelWidth:"0",rules:[I.maxLength(100)],props:{placeholder:"请输入补充信息"}},certificateImage:{label:"",type:"upload",value:"",props:{action:"http://www.leavesyesong.xyz/api/user/platform/consultant/upload",accept:".jpg,.png,.gif",name:"UploadFiles",limit:1,disabled:!1,"list-type":"picture-card","show-file-list":!0,"auto-upload":!0,"before-upload":function(e,t){this.uploadBefore(t,e)},"on-success":function(e,t,a){this.uploadSuccess(t,a,e,["licenses","certificateImage"])}},render:function(e){return x(e)}}},T=c.a.cloneDeep($),L=[T],F=(v["default"].prototype.$rules,{gallupCertified:{text:"有Gallup Certified证书",value:"",type:"single-checkbox",layout:{span:24},labelWidth:"70px",events:{change:function(e,t){this.handleCheckboxChange(5,e,t)}}},gallupCertifiedImage:{layout:{span:18},labelWidth:"20px",label:"",type:"upload",value:"",hide:!0,props:{action:"http://www.leavesyesong.xyz/api/user/platform/consultant/upload",accept:".jpg,.png,.gif",name:"UploadFiles",limit:1,disabled:!1,"list-type":"picture-card","show-file-list":!0,"auto-upload":!0,"before-upload":function(e,t){this.uploadBefore(t,e)},"on-success":function(e,t,a){this.uploadSuccess(t,a,e,["callup","gallupCertifiedImage"])}},render:function(e){return x(e)}}}),A={education:_,workExperience:z,socialEcurity:q,otherCertificates:L,callup:F};a("b0c0");var W=a("c24f"),B=a("1b62"),P={education:w,workExperience:S,otherCertificates:$},G={name:"fill-info",components:{QuickForm:u["a"],SubmitFinish:m},mixins:[B["a"]],data:function(){return Object(r["a"])({lang:"",language:[],skill:"",skills:[],isShow:!1,labelWidth:"140px"},A)},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,l,i,n,s,r,o,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.loading(),t.next=3,Object(W["b"])().catch((function(e){return a.close()}));case 3:l=t.sent,l.result&&(e.id=l.msg._id,i=l.msg.publicInfo.resume,i&&(n=i.socialInsuranceImage,s=i.gallupCertified,r=i.gallupCertifiedImage,o=i.language,u=i.skills,Object.keys(i).forEach((function(t){if(["education","workExperience","otherCertificates"].includes(t)){var a=i[t];e[t]=[],a.forEach((function(a){var l=c.a.cloneDeep(P[t]);Object.keys(l).forEach((function(e){l[e].value=a[e]})),e[t].push(l)}))}})),e.language=o,e.skills=u,e.socialEcurity.socialInsuranceImage.value=n,e.callup.gallupCertified.value=s,e.callup.gallupCertifiedImage.value=r)),a.close();case 6:case"end":return t.stop()}}),t)})))()},methods:{handleCheckboxChange:function(e,t,a){var l=this.education[t],i=this.workExperience[t];1==e&&(l.organizationTitle.hide=!a,l.studentOrganization.layout.span=a?5:24),2==e&&(l.rewardDescription.hide=!a,l.getRewarded.layout.span=a?5:24),3==e&&(l.projectArticleDescription.hide=!a),4==e&&(i.teamMember.hide=!a,i.teamManagement.layout.span=a?8:24),5==e&&(this.callup.gallupCertifiedImage.hide=!a,this.callup.gallupCertified.layout.span=a?6:24)},handleAddEducation:function(){if(10==this.education.length)return!1;this.education.push(this.bindThis(c.a.cloneDeep(w),this.education.length))},handleDelEducation:function(e){if(1==this.education.length)return!1;this.education.splice(e,1)},handleAddExperience:function(){if(10==this.workExperience.length)return!1;this.workExperience.push(this.bindThis(c.a.cloneDeep(S),this.workExperience.length))},handleDelExperience:function(e){if(1==this.workExperience.length)return!1;this.workExperience.splice(e,1)},handleAddLicense:function(){if(10==this.otherCertificates.length)return!1;this.otherCertificates.push(this.bindThis(c.a.cloneDeep($),this.otherCertificates.length))},handleDelLicense:function(e){if(1==this.otherCertificates.length)return!1;this.otherCertificates.splice(e,1)},handleAddLang:function(){if(10==this.language.length)return!1;this.lang&&this.language.push(this.lang),this.lang=""},handleDelLang:function(e){this.language.splice(e,1)},handleAddSkill:function(){if(10==this.skills.length)return!1;this.skill&&this.skills.push(this.skill),this.skill=""},handleDelSkill:function(e){this.skills.splice(e,1)},handleClose:function(){this.isShow=!1},bindThis:function(e,t){var a=this;return Object.keys(e).forEach((function(l){var i=e[l];i.events&&Object.keys(i.events).forEach((function(e){i.events[e]=i.events[e].bind(a,t)})),"upload"==i.type&&(i.props["before-upload"]=i.props["before-upload"].bind(a,t),i.props["on-success"]=i.props["on-success"].bind(a,t))})),e},checkFile:function(e){return e.size>2097152?(this.alert("上传图片不能超过2M"),!1):!!["image/png","image/jpeg","image/gif"].includes(e.type)||(this.alert("请上传PNG、JPG、GIF类型文件"),!1)},afterUpload:function(e,t,a){console.log(e,t,a),"number"==typeof t?this[a[0]][t][a[1]].value=e:this[a[0]][a[1]].value=e},handleSave:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var l,i,s,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(t.$refs),l=!0,a.next=4,Promise.all([].concat(Object(n["a"])(t.education.map((function(e,a){return t.$refs["education"+a][0].validate()}))),Object(n["a"])(t.workExperience.map((function(e,a){return t.$refs["experience"+a][0].validate()}))),Object(n["a"])(t.otherCertificates.map((function(e,a){return t.$refs["license"+a][0].validate()}))),[t.$refs.socialEcurity.validate(),t.$refs.callup.validate()])).catch((function(e){return l=!1}));case 4:if(a.sent,!l){a.next=15;break}return i=t.loading(),s=Object(r["a"])(Object(r["a"])(Object(r["a"])({_id:t.id,education:t.education.map((function(e,a){return t.$refs["education"+a][0].getFormData()})),workExperience:t.workExperience.map((function(e,a){return t.$refs["experience"+a][0].getFormData()})),otherCertificates:t.otherCertificates.map((function(e,a){return t.$refs["license"+a][0].getFormData()}))},t.$refs.socialEcurity.getFormData()),t.$refs.callup.getFormData()),{},{language:t.language,skills:t.skills}),1==e&&(s.backgroundVerifyStatus=1),console.log(s,"formdata"),a.next=12,Object(W["g"])(s);case 12:o=a.sent,o.result&&t.alert("操作成功"),i.close();case 15:case"end":return a.stop()}}),a)})))()}},mounted:function(){console.log(this._data,111),this.education[0]=this.bindThis(this.education[0],0),this.workExperience[0]=this.bindThis(this.workExperience[0],0),this.otherCertificates[0]=this.bindThis(this.otherCertificates[0],0),this.callup=this.bindThis(this.callup),this.socialEcurity=this.bindThis(this.socialEcurity)}},R=G,U=(a("b697"),Object(g["a"])(R,l,i,!1,null,"69ce0d52",null));t["default"]=U.exports},"406a":function(e,t,a){},a759:function(e,t,a){},b697:function(e,t,a){"use strict";var l=a("406a"),i=a.n(l);i.a}}]);